<ba-loadmore ba-if="{{loadmore && loadmorestyle !== 'infinite' && loadmorebackwards}}" ba-show="{{!loading}}" ba-event:loadmore="moreitemsbackwards">
</ba-loadmore>
<ba-loading ba-if="{{loadmore && loadmorebackwards}}" ba-show="{{loading}}">
</ba-loading>

<list ba-repeat="{{view.repeatoptions :: collectionitem :: (model.listcollection||listcollection)}}"
      ba-interaction:scroll="{{infinite_scroll_options}}">
<!--<list ba-repeat="{{collectionitem :: (model.listcollection||listcollection)}}">-->
    <!--ba-isselected="{{isselected(collectionitem)}}"-->

    <ba-{{getview(collectionitem)}}
        ba-cache
        ba-experimental="{{!!collectionitem.experimental}}"
        data-id="{{collectionitem.cid()}}"
        ba-data:id="{{collectionitem.cid()}}"
        ba-data:pid="{{collectionitem.pid()}}"
        ba-selection="{{=selection}}"
        ba-functions="{{collectionitem.callbacks}}"
        ba-isselected="{{isEqual(collectionitem, selected)}}"
        ba-event-forward:item="{{[collectionitem]}}"
        ba-view="{{collectionitem.view||view.listinner}}"
        ba-model="{{collectionitem}}">

    </ba-{{getview(collectionitem)}}>

</list>

<ba-loadmore ba-if="{{loadmore && loadmorestyle !== 'infinite'}}" ba-show="{{!loading}}" ba-event:loadmore="moreitems">
</ba-loadmore>
<ba-loading ba-show="{{loading}}">
</ba-loading>
