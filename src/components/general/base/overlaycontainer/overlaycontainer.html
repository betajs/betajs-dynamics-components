<overlaycontainer
    ba-click="{{check_split()}}"
    ba-if="{{showoverlay}}"
    ba-class="{{{
                normal : !view.fullpage,
                fullpage : view.fullpage,
                overlaysplit: view.overlaysplit,
                nosplit: !view.overlaysplit
            }}}">

    <overlaysplit ba-if="{{view.overlaysplit}}">
        <top ba-click="{{hide_overlay()}}"
                 style="height: {{view.offsetTop}}px"></top>
        <ba-{{view.splitinsert}}
            ba-if={{view.splitinsert}}
            ba-model={{model}}
        ></ba-{{view.splitinsert}}>
        <split style="height: {{view.offsetHeight}}px"></split>
        <bottom ba-click="{{hide_overlay()}}"
                    ba-if="{{view.offsetHeight}}"></bottom>
    </overlaysplit>

    <overlayinner
            ba-click=""
            ba-if="{{view.overlay || model.message}}">

        <ba-{{view.overlay}}
            ba-event-forward
            ba-event:hide-overlay='hide_overlay'
            ba-noscope>
        <!--<ba-{{view.overlay}} ba-model="{{model}}">-->
            <message ba-if="{{model.message}}">{{model.message}}</message>
        </ba-{{view.overlay}}>

    </overlayinner>

</overlaycontainer>