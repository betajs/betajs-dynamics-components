/*!
betajs-dynamics-components - v0.1.9 - 2017-05-08
Copyright (c) Victor Lingenthal
Apache-2.0 Software License.
*/
var Scoped=function(){function a(a){function b(a){return{route:"string"==typeof a.route?a.route:null,parent:"object"==typeof a.parent?a.parent:null,ready:"boolean"==typeof a.ready?a.ready:!1,children:{},watchers:[],data:{},lazy:[]}}function c(a){if(!a.ready){if(a.parent&&!a.parent.ready)return void c(a.parent);if(a.route&&a.parent&&a.route in a.parent.data){a.data=a.parent.data[a.route],a.ready=!0;for(var b=0;b<a.watchers.length;++b)a.watchers[b].callback.call(a.watchers[b].context||this,a.data);a.watchers=[];for(var d in a.children)c(a.children[d])}}}function d(a){if(!a.ready){a.parent&&!a.parent.ready&&d(a.parent),a.ready=!0,a.parent&&j.tree&&"object"==typeof a.parent.data&&(a.parent.data[a.route]=a.data);for(var b=0;b<a.watchers.length;++b)a.watchers[b].callback.call(a.watchers[b].context||this,a.data);a.watchers=[]}}function e(a,b){if("object"==typeof b&&a.ready)for(var e in b)a.data[e]=b[e];else a.data=b;if("object"==typeof b)for(var f in b)a.children[f]&&(a.children[f].data=b[f]);d(a);for(var g in a.children)c(a.children[g])}function f(a){if(a.ready&&a.data)for(var b in a.data)delete a.data[b]}function g(a){if(!a)return k;for(var d=a.split("."),e=k,f=0;f<d.length;++f)d[f]in e.children?e=e.children[d[f]]:(e.children[d[f]]=b({parent:e,route:d[f]}),e=e.children[d[f]],c(e));return e}function h(a,b,c){if(a.ready)b.call(c||this,a.data);else if(a.watchers.push({callback:b,context:c}),a.lazy.length>0){var d=function(a){if(a.lazy.length>0){var b=a.lazy.shift();b.callback.call(b.context||this,a.data),d(a)}};d(a)}}function i(a,b,c){a=a||k,c=c||[],a.ready||c.push(b);for(var d in a.children){var e=a.children[d],f=(b?b+".":"")+e.route;c=i(e,f,c)}return c}var j={tree:"boolean"==typeof a.tree?a.tree:!1,global:"boolean"==typeof a.global?a.global:!1,root:"object"==typeof a.root?a.root:{}},k=b({ready:!0});if(j.tree)if(j.global){try{window&&(k.data=window)}catch(l){}try{global&&(k.data=global)}catch(l){}try{self&&(k.data=self)}catch(l){}}else k.data=j.root;return{extend:function(a,b){e(g(a),b)},set:function(a,b){var c=g(a);c.data&&f(c),e(c,b)},get:function(a){var b=g(a);return b.ready?b.data:null},lazy:function(a,b,c){var d=g(a);d.ready?b(c||this,d.data):d.lazy.push({callback:b,context:c})},digest:function(a){c(g(a))},obtain:function(a,b,c){h(g(a),b,c)},unresolvedWatchers:function(a){return i(g(a),a)},__export:function(){return{options:j,nsRoot:k}},__import:function(a){j=a.options,k=a.nsRoot}}}function b(e,f,g,h){var i=null,j=[],k=f,l=g,m=h,n=a({tree:!0}),o=a({tree:!1}),p={global:{namespace:m},root:{namespace:l},local:{namespace:n},"default":{namespace:o},parent:{namespace:k},scope:{namespace:n,readonly:!1}},q=function(a,b,c){var e=d.matchArgs(a,{options:"object",namespaceLocator:!0,dependencies:"array",hiddenDependencies:"array",callback:!0,context:"object"}),f=d.extend({lazy:this.options.lazy},e.options||{}),g=this.resolve(e.namespaceLocator),h=function(){this.require(e.dependencies,e.hiddenDependencies,function(){if(arguments[arguments.length-1].ns=g,this.options.compile){for(var f=[],h=0;h<a.length;++h)f.push(d.stringify(a[h]));this.compiled+=this.options.ident+"."+b+"("+f.join(", ")+");\n\n"}this.options.dependencies&&(this.dependencies[g.path]=this.dependencies[g.path]||{},e.dependencies&&e.dependencies.forEach(function(a){this.dependencies[g.path][this.resolve(a).path]=!0},this),e.hiddenDependencies&&e.hiddenDependencies.forEach(function(a){this.dependencies[g.path][this.resolve(a).path]=!0},this));var i=this.options.compile?{}:e.callback.apply(e.context||this,arguments);c.call(this,g,i)},this)};return f.lazy?g.namespace.lazy(g.path,h,this):h.apply(this),this};return{getGlobal:d.method(c,c.getPath),setGlobal:d.method(c,c.setPath),options:{lazy:!1,ident:"Scoped",compile:!1,dependencies:!1},compiled:"",dependencies:{},nextScope:function(){return i||(i=b(this,n,l,m)),i},subScope:function(){var a=this.nextScope();return j.push(a),i=null,a},binding:function(b,c,e){if(!p[b]||!p[b].readonly){var f;f="string"!=d.typeOf(c)?{namespace:a({tree:!0,root:c}),path:null}:this.resolve(c),p[b]=d.extend(e,f)}return this},resolve:function(a){var b=a.split(":");if(1==b.length)return{namespace:o,path:b[0]};var c=p[b[0]];if(!c)throw"The namespace '"+b[0]+"' has not been defined (yet).";return{namespace:c.namespace,path:c.path&&b[1]?c.path+"."+b[1]:c.path||b[1]}},define:function(){return q.call(this,arguments,"define",function(a,b){if(a.namespace.get(a.path))throw"Scoped namespace "+a.path+" has already been defined. Use extend to extend an existing namespace instead";a.namespace.set(a.path,b)})},assumeVersion:function(){var a=d.matchArgs(arguments,{assumption:!0,dependencies:"array",callback:!0,context:"object",error:"string"}),b=a.dependencies||[];b.unshift(a.assumption),this.require(b,function(){var b=arguments,c=b[0].replace(/[^\d\.]/g,"");b[0]=c.split(".");for(var e=0;e<b[0].length;++e)b[0][e]=parseInt(b[0][e],10);if("function"===d.typeOf(a.callback)){if(!a.callback.apply(a.context||this,a))throw"Scoped Assumption '"+a.assumption+"' failed, value is "+c+(a.error?", but assuming "+a.error:"")}else for(var f=(a.callback+"").replace(/[^\d\.]/g,"").split("."),g=0;g<Math.min(b[0].length,f.length);++g)if(parseInt(f[g],10)>b[0][g])throw"Scoped Version Assumption '"+a.assumption+"' failed, value is "+c+", but assuming at least "+a.callback})},extend:function(){return q.call(this,arguments,"extend",function(a,b){a.namespace.extend(a.path,b)})},require:function(){var a=d.matchArgs(arguments,{dependencies:"array",hiddenDependencies:"array",callback:"function",context:"object"});a.callback=a.callback||function(){};var b=a.dependencies||[],c=b.concat(a.hiddenDependencies||[]),e=c.length,f=[],g={};if(e)for(var h=function(b){this.i<f.length&&(f[this.i]=b),e--,0===e&&(f.push(g),a.callback.apply(a.context||this.ctx,f))},i=0;i<c.length;++i){var j=this.resolve(c[i]);i<b.length&&f.push(null),j.namespace.obtain(j.path,h,{ctx:this,i:i})}else f.push(g),a.callback.apply(a.context||this,f);return this},digest:function(a){var b=this.resolve(a);return b.namespace.digest(b.path),this},unresolved:function(a){var b=this.resolve(a);return b.namespace.unresolvedWatchers(b.path)},__export:function(){return{parentNamespace:k.__export(),rootNamespace:l.__export(),globalNamespace:m.__export(),localNamespace:n.__export(),privateNamespace:o.__export()}},__import:function(a){k.__import(a.parentNamespace),l.__import(a.rootNamespace),m.__import(a.globalNamespace),n.__import(a.localNamespace),o.__import(a.privateNamespace)}}}var c=function(){return{get:function(a){return"undefined"!=typeof window?window[a]:"undefined"!=typeof global?global[a]:"undefined"!=typeof self?self[a]:void 0},set:function(a,b){return"undefined"!=typeof window&&(window[a]=b),"undefined"!=typeof global&&(global[a]=b),"undefined"!=typeof self&&(self[a]=b),b},getPath:function(a){var b=a.split(".");if(1==b.length)return this.get(a);for(var c=this.get(b[0]),d=1;d<b.length;++d){if(!c)return c;c=c[b[d]]}return c},setPath:function(a,b){var c=a.split(".");if(1==c.length)return this.set(a,b);for(var d=this.get(c[0])||this.set(c[0],{}),e=1;e<c.length-1;++e)c[e]in d||(d[c[e]]={}),d=d[c[e]];return d[c[c.length-1]]=b,b}}}.call(this),d=function(){return{method:function(a,b){return function(){return b.apply(a,arguments)}},extend:function(a,b){a=a||{},b=b||{};for(var c in b)a[c]=b[c];return a},typeOf:function(a){return"[object Array]"===Object.prototype.toString.call(a)?"array":typeof a},isEmpty:function(a){if(null===a||"undefined"==typeof a)return!0;if("array"==this.typeOf(a))return 0===a.length;if("object"!=typeof a)return!1;for(var b in a)return!1;return!0},matchArgs:function(a,b){var c=0,d={};for(var e in b)b[e]===!0||this.typeOf(a[c])==b[e]?(d[e]=a[c],c++):"undefined"==this.typeOf(a[c])&&c++;return d},stringify:function(a){return"function"==this.typeOf(a)?""+a:JSON.stringify(a)}}}.call(this),e=function(){return{__namespace:"Scoped",__revert:null,upgrade:function(a){var b=c.get(a||e.__namespace);if(b&&"object"==d.typeOf(b)&&b.guid==this.guid&&"string"==d.typeOf(b.version)){for(var f=this.version.split("."),g=b.version.split("."),h=!1,i=0;i<Math.min(f.length,g.length)&&(h=parseInt(f[i],10)>parseInt(g[i],10),f[i]==g[i]);++i);return h?this.attach(a):b}return this.attach(a)},attach:function(a){a&&(e.__namespace=a);var b=c.get(e.__namespace);if(b==this)return this;if(e.__revert=b,b)try{var d=b.__exportScoped();this.__exportBackup=this.__exportScoped(),this.__importScoped(d)}catch(f){}return c.set(e.__namespace,this),this},detach:function(a){return a&&c.set(e.__namespace,null),"undefined"!=typeof e.__revert&&c.set(e.__namespace,e.__revert),delete e.__revert,e.__exportBackup&&this.__importScoped(e.__exportBackup),this},exports:function(a,b,c){return a=a||("undefined"!=typeof module?module:null),"object"==typeof a&&a&&"exports"in a&&(c||a.exports==this||!a.exports||d.isEmpty(a.exports))&&(a.exports=b||this),this}}}.call(this),f=a({tree:!0,global:!0}),g=a({tree:!0}),h=b(null,g,g,f),i=d.extend(h,function(){return{guid:"4b6878ee-cb6a-46b3-94ac-27d91f58d666",version:"0.0.13",upgrade:e.upgrade,attach:e.attach,detach:e.detach,exports:e.exports,__exportScoped:function(){return{globalNamespace:f.__export(),rootNamespace:g.__export(),rootScope:h.__export()}},__importScoped:function(a){f.__import(a.globalNamespace),g.__import(a.rootNamespace),h.__import(a.rootScope)}}}.call(this));return i=i.upgrade(),i.exports(),i}.call(this);(function(){var b=this.subScope();b.binding("module","global:BetaJS.Dynamics.Components"),b.binding("base","global:BetaJS"),b.binding("browser","global:BetaJS.Browser"),b.binding("dynamics","global:BetaJS.Dynamics"),b.binding("ui","global:BetaJS.UI"),b.define("module:",function(){return{guid:"ced27948-1e6f-490d-b6c1-548d39e8cd8d",version:"0.1.9"}}),b.assumeVersion("base:version","~1.0.96"),b.assumeVersion("browser:version","~1.0.65"),b.assumeVersion("dynamics:version","~0.0.83"),b.assumeVersion("ui:version","~1.0.37"),b.define("module:Clickinput",["dynamics:Dynamic"],function(a,b){return a.extend({scoped:b},{template:'\n<title\n        ba-if="{{!view.edit}}"\n        ba-click="edititem()"\n>\n    {{model.value}}\n</title>\n\n<input\n        placeholder="{{view.placeholder}}"\n        ba-if="{{view.edit}}"\n        ba-return="view.edit = false"\n        onblur="{{view.edit = false}}"\n        value="{{=model.value}}">',attrs:{model:{value:"Test"},view:{placeholder:"",edit:!1,autofocus:!0}},extendables:["view"],functions:{edititem:function(){this.setProp("view.edit",!0);var a=this.activeElement().querySelector("input"),b=this.getProp("model.value").length;a.focus(),a.setSelectionRange(b,b)}}}).register()}),b.define("module:Htmlview",["dynamics:Dynamic","base:Async","browser:Loader","browser:Dom"],function(a,b,c,d,e){return a.extend({scoped:e},{template:"<iframe frameBorder='0' scrolling='no'></iframe>",attrs:{html:"",loadhtml:""},events:{"change:html":function(){this.activated()&&this._updateIFrame()},"change:loadhtml":function(){this._loadHtml()}},_loadHtml:function(){this.get("loadhtml")&&c.loadHtml(this.get("loadhtml"),function(a){this.set("html",a)},this)},_cleanupContent:function(a){for(var b=d.elementByTemplate("<div>"+a+"</div>"),c=b.querySelectorAll("script"),e=0;e<c.length;++e)c[e].parentNode.removeChild(c[e]);for(var f=b.querySelectorAll("iframe"),g=0;g<f.length;++g)f[g].parentNode.removeChild(f[g]);return b},create:function(){var a=function(){b.eventually(function(){this.destroyed()||(this._updateSize(),this._timeout*=2,a.call(this))},this,this._timeout)};a.call(this),this._loadHtml()},_afterActivate:function(){this._updateIFrame()},_updateIFrame:function(){this.activeElement().querySelector("iframe").contentDocument.querySelector("html").innerHTML=this._cleanupContent(this.get("html")).innerHTML,this._updateSize(),this._timeout=100},_updateSize:function(){var a=this.activeElement().querySelector("iframe"),b=a.contentDocument.querySelector("html")||a.contentDocument.querySelector("body"),c=b.scrollWidth,d=b.scrollHeight;if(!a.contentDocument.querySelector("body")){d=1;for(var e=a.contentDocument.querySelector("html"),f=0;f<e.length;++f){var g=e[f].tagName.toLowerCase();if("style"===g||"script"===g||"head"===g)return;d=Math.max(d,e[f].innerHeight+e[f].offsetTop)}}var h=a.clientWidth,i=h/c;Math.abs(d-a.clientHeight)<2||(b.style.MozTransform="scale("+i+")",b.style.zoom=100*i+"%",a.style.width=a.parentNode.offsetWidth+"px",a.style.height=Math.ceil(d*i+10)+"px")}}).register()}),b.define("module:Input",["dynamics:Dynamic"],function(a,b){return a.extend({scoped:b},{template:'<input placeholder="{{view.placeholder}}" autofocus>',attrs:{model:{value:""},view:{placeholder:"",autofocus:!0}}}).register()}),b.define("module:Overlaycontainer",["dynamics:Dynamic"],["dynamics:Partials.TapPartial"],function(a,b){return a.extend({scoped:b},{template:'<overlaycontainer\n    ba-tap="showoverlay = false"\n    ba-if="{{showoverlay}}">\n\n    <overlayinner>\n\n        <ba-{{view.overlay}} ba-noscope>\n            <message>{{model.message}}</message>\n        </ba-{{view.overlay}}>\n\n    </overlayinner>\n\n</overlaycontainer>',attrs:function(){return{view:{overlay:""},model:{message:"This is a message"},value:null,showoverlay:!0}}}).register()}),b.define("module:Scrollpicker",["dynamics:Dynamic","ui:Interactions.Loopscroll","base:Loggers.Logger"],["dynamics:Partials.RepeatElementPartial"],function(a,b,c,d){var e=c.global().tag("dynamic","scroll");return a.extend({scoped:d},{template:'<container>\n        <element\n                ba-repeat-element="{{element_value :: value_array}}"\n                ba-tap="select_element(element_value)"\n                data-id="{{element_value}}"\n        >\n                {{element_value}}\n        </element>\n</container>',attrs:{initial_value:14,current_value:10,first:0,last:23,increment:1,value_array:[]},create:function(){this.initialize_value_array(),this.initialize_value()},functions:{select_element:function(a){var b=this.element()[0].querySelector("[data-id='"+this.get("current_value")+"']");b.style.color="",b.style.background="",this.set("current_value",a);var c=this.element()[0].querySelector("[data-id='"+a+"']");this.execute("scroll_to_element",c)},scroll_to_element:function(a){this.get("scroll").scrollToElement(a,{animate:!1}),a.style.color="black",a.style.background="white"}},_afterActivate:function(a){a=a.querySelector("container");var c=new b(a,{enabled:!0,currentTop:this.get("top"),discrete:!0,scrollEndTimeout:200,currentCenter:!0});this.set("scroll",c);var d=a.querySelector("[data-id='"+this.get("current_value")+"']");this.execute("scroll_to_element",d),c.on("scrollend",function(){e.log(this),this.set("current_value",c.currentElement().dataset.id)},this),c.on("scroll",function(){for(var b=0;b<a.children.length;++b)a.children[b].style.color="#999",a.children[b].style.background="#F4F4F4";c.currentElement().style.color="black",c.currentElement().style.background="white"})},initialize_value:function(){var a=this.get("increment"),b=a*Math.round(this.get("initial_value")/a),c=this.get("value_array").indexOf(b),d=c>-1?b:this.get("value_array")[0];this.set("current_value",parseInt(d,10))},initialize_value_array:function(){var a=this.get("first"),b=this.get("last"),c=this.get("increment"),d=[];if(b>a)for(var e=a;b>=e;e+=c)d.push(e);else if(a>b)for(var f=a;f>=b;f-=c)d.push(f);this.set("value_array",d)}}).register()}),b.define("module:Textinput",["dynamics:Dynamic","base:Strings"],function(a,b,c){return a.extend({scoped:c},{template:'\n<textarea autofocus onblur="{{this.call(\'blur\')}}" value="{{=value}}"></textarea>\n<pre>{{=preheighttext}}</pre>',attrs:{value:"Test",view:{placeholder:"",autofocus:!0}},computed:{"preheighttext:value":function(){var a=this.get("value");return a+(b.ends_with(a,"\n")?" ":"")}},functions:{blur:function(){console.log("Textinput"),this.trigger("blur")}}}).register()}),b.define("module:Loading",["dynamics:Dynamic"],function(a,b){return a.extend({scoped:b},{template:"\n<loading>\n\n    <div class='uil-spin-css' style='-webkit-transform:scale(0.32)'><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div></div>\n\n</loading>\n"}).register()}),b.define("module:Loadmore",["dynamics:Dynamic"],function(a,b){return a.extend({scoped:b},{template:'\n<loadmore ba-click="load_more()">\n\n    <button>Load more</button>\n\n</loadmore>',attrs:{view:{value:"Placeholder"}},functions:{load_more:function(){this.chainedTrigger("loadmore",this)}}}).register()}),b.define("module:Clickitem",["dynamics:Dynamic","base:Loggers.Logger"],function(a,b,c){var d=b.global().tag("dynamic","list");return a.extend({scoped:c},{template:'\n<button\n        class="{{model.class}}"\n        ba-click="click()">\n    {{model.value}}\n</button>',attrs:{model:{value:"Clickitem - Value"}},functions:{click:function(){d.log("Click")}},create:function(){this.on("event",function(a){d.log("event from item: "+a)},this)}}).register()}),b.define("module:Eventitem",["dynamics:Dynamic","base:Loggers.Logger"],function(a,b,c){var d=b.global().tag("dynamic","calendar");return a.extend({scoped:c},{template:'\n<button\n        class="{{model.class}}">\n    {{model.value}} - {{counter}}\n</button>',attrs:{counter:0,model:{value:"Eventitem - Clicked "}},functions:{click:function(){this.trigger("event",this.cid())}},create:function(){this.on("event",function(a){this.set("counter",this.get("counter")+1)},this),this.parent().on("archive",function(){d.log("archived")},this)}}).register()}),b.define("module:Hoverbuttoncontainer",["dynamics:Dynamic","browser:Loader","browser:Dom","base:Loggers.Logger"],["ui:Dynamics.GesturePartial","ui:Dynamics.InteractionPartial","ui:Interactions.Drag","ui:Interactions.Drop"],function(a,b,c,d,e){d.global().tag("dynamic","list");return a.extend({scoped:e},{template:'\n<hoverbuttoncontainer\n        ba-on:mouseover="show_hover_buttons = true"\n        ba-on:mouseleave="show_hover_buttons = false"\n        ba-gesture:click="{{{data: model, options: click_gesture}}}"\n        ba-gesture:drag="{{drag_gesture}}"\n        ba-interaction:drag="{{{data: model, options: drag_interaction}}}"\n        ba-interaction:drop="{{{data: model, options: drop_interaction}}}">\n\n    <container>\n        <ba-{{view.inner||inner}} ba-noscope>\n        </ba-{{view.inner||inner}}>\n    </container>\n\n    <hoverbuttons\n            ba-show="{{show_hover_buttons}}"\n            ba-repeat="{{button :: buttons}}">\n        <button ba-tap="button.click()">\n            <span class="{{button.icon}}"></span>\n            <tooltip>{{button.tooltip}}</tooltip>\n        </button>\n    </hoverbuttons>\n\n</hoverbuttoncontainer>\n',attrs:{show_hover_buttons:!1,view:{slide_finish:!1,left:0},buttons:{"delete":{icon:"icon-trash",tooltip:"Delete",click:function(){console.log("Delete was clicked")}},archive:{icon:"icon-archive",tooltip:"Archive",click:function(){console.log("Archive was clicked")}},snooze:{icon:"icon-time",tooltip:"Snooze",click:function(){console.log("Snooze was clicked")}}},value:"Swipeclickitem - Title",inner:"eventitem",click_gesture:{mouse_up_activate:!0,wait_time:250,wait_activate:!1,disable_x:10,disable_y:10,enable_x:-1,enable_y:-1,activate_event:"click"},drag_gesture:{mouse_up_activate:!1,wait_time:750,wait_activate:!0,disable_x:10,disable_y:10,enable_x:-1,enable_y:-1,interaction:"drag"},drag_interaction:{droppable:!0,type:"drag",clone_element:!0,start_event:null,events:{move:function(a,b){b.actionable_modifier.csscls("focus",!0),b.modifier.csscls("unfocus",!0)}}},drop_interaction:{enabled:!0,type:"drop",classes:{"hover.modifier":"green-style"},events:{dropped:function(a,b){var c=b.source.data;this.scope(">").execute("dropped",c)}}}},functions:{click:function(a){this.scope(">").call("click")},create_style:function(a,b){var c=document.createElement("style");c.type="text/css",c.innerHTML="."+a+" { left: "+b+"px; }",document.getElementsByTagName("head")[0].appendChild(c)},slideout:function(a,c,d){var e=c;this.call("create_style","old_class",e),this.set("start_swipe","old_class");var f=this;setTimeout(function(){a.parentNode.style.display="none",f.trigger(d)},10);var g=parseInt(a.style.width,10),h=Math.sign(e);this.set("temporary_style_element",b.inlineStyles(".new_class { left: "+h*g+"px; }")),this.call("create_style","new_class",h*g),this.set("start_swipe","swipe new_class")}}}).register()}),b.define("module:Selectableitem",["dynamics:Dynamic","base:Objs","base:Loggers.Logger"],["dynamics:Partials.ClassPartial"],function(a,b,c,d){var e=c.global().tag("dynamic","list");a.extend({scoped:d},{template:'\n<selectableitem\n        ba-class="{{{selected : selected.cid == this.cid()}}}"\n        ba-click="select()">\n    {{model.value}}\n</selectableitem>',bindings:{selected:"<+[tagname='ba-list']:selected_item"},scopes:{parent_list:"<+[tagname='ba-list']"},attrs:{model:{value:"Selectableitem - Value"}},create:function(){var a=this.scopes.parent_list;a?a.get("listcollection")&&(this.scopes.parent_list.get("selected_item")||this.call("select")):e.log("There is no parent list the selector can attach to, this currently only works  with ba-list")},functions:{select:function(){this.scopes.parent_list.set("selected_item",b.extend({cid:this.cid()},this.get("model").data()))}}}).register()}),b.define("module:Swipeclickcontainer",["dynamics:Dynamic","browser:Loader","browser:Dom","base:Loggers.Logger"],["ui:Dynamics.GesturePartial","ui:Dynamics.InteractionPartial","ui:Interactions.Drag","ui:Interactions.Drop"],function(b,c,d,e,f){e.global().tag("dynamic","list");return b.extend({scoped:f},{template:'\n<behind>\n    <icon class=\'{{view.lefticon||lefticon}}\'></icon>\n    <div></div>\n    <icon class=\'{{view.righticon||righticon}}\'></icon>\n</behind>\n\n<!--style="left: {{view.left}}px"-->\n<swipe\n        class=\'{{start_swipe}}\'\n        ba-gesture:click="{{{data: model, options: click_gesture}}}"\n        ba-gesture:drag="{{drag_gesture}}"\n        ba-interaction:drag="{{{data: model, options: drag_interaction}}}"\n        ba-interaction:drop="{{{data: model, options: drop_interaction}}}"\n        ba-gesture:swipe="{{swipe_gesture}}"\n        ba-interaction:swipe="{{swipe_interaction}}">\n\n    <container>\n\n        <ba-{{view.inner||inner}} ba-noscope>\n        </ba-{{view.inner||inner}}>\n\n        <swipeleft>\n            <div></div>\n            <icon class=\'{{view.lefticon||lefticon}}\'></icon>\n        </swipeleft>\n\n        <swiperight>\n            <icon class=\'{{view.righticon||righticon}}\'></icon>\n            <div></div>\n        </swiperight>\n\n    </container>\n\n</swipe>\n',attrs:{start_swipe:"",view:{slide_finish:!1,left:0},value:"Swipeclickitem - Title",lefticon:"icon-ok",righticon:"icon-time",inner:"eventitem",swipe_actions:{other:{less:-1/7,greater:-1,execute:function(a,b){this.execute("slideout",a,b,"other")}},nothing:{greater:-1/7,less:1/7},archive:{greater:1/7,less:2/3,execute:function(a,b){this.execute("slideout",a,b,"archive")}},"delete":{greater:2/3,less:1,execute:function(a,b){this.execute("slideout",a,b,"delete")}}},click_gesture:{mouse_up_activate:!0,wait_time:250,wait_activate:!1,disable_x:10,disable_y:10,enable_x:-1,enable_y:-1,activate_event:"click"},drag_gesture:{mouse_up_activate:!1,wait_time:750,wait_activate:!0,disable_x:10,disable_y:10,enable_x:-1,enable_y:-1,interaction:"drag"},drag_interaction:{droppable:!0,type:"drag",clone_element:!0,start_event:null,events:{move:function(a,b){b.actionable_modifier.csscls("focus",!0),b.modifier.csscls("unfocus",!0)}}},drop_interaction:{enabled:!0,type:"drop",classes:{"hover.modifier":"green-style"},events:{dropped:function(a,b){var c=b.source.data;this.scope(">").execute("dropped",c)}}},swipe_gesture:{mouse_up_activate:!1,wait_time:250,wait_activate:!1,disable_x:-1,disable_y:-1,enable_x:10,enable_y:-1,interaction:"swipe"},swipe_interaction:{type:"drag",enabled:!0,draggable_y:!1,start_event:null,events:{move:function(a,b){var c=b.element,e=d.elementDimensions(c).width,f=parseInt(c.style.left,10),g={},h=this.get("swipe_actions");for(var i in h)g=h[i],(!g.less||f<=e*g.less)&&(!g.greater||f>=e*g.greater)?d.elementAddClass(c,i):d.elementRemoveClass(c,i)},release:function(b,c){var e=c.element,f=d.elementDimensions(e).width,g=parseInt(e.style.left,10),h=this.get("swipe_actions");for(var i in h)a=h[i],"greater"in a&&!(g<=f*a.less)||"less"in a&&!(g>=f*a.greater)||(c.source.abort(),a.execute&&a.execute.call(this,e,g))}}}},functions:{click:function(a){this.scope(">").call("click")},create_style:function(a,b){var c=document.createElement("style");c.type="text/css",c.innerHTML="."+a+" { left: "+b+"px; }",document.getElementsByTagName("head")[0].appendChild(c)},slideout:function(a,b,d){var e=b;this.call("create_style","old_class",e),this.set("start_swipe","old_class");var f=this;setTimeout(function(){a.parentNode.style.display="none",f.trigger(d)},10);var g=parseInt(a.style.width,10),h=Math.sign(e);this.set("temporary_style_element",c.inlineStyles(".new_class { left: "+h*g+"px; }")),this.call("create_style","new_class",h*g),this.set("start_swipe","swipe new_class")}}}).register()}),b.define("module:List",["dynamics:Dynamic","base:Async"],["dynamics:Partials.RepeatPartial","dynamics:Partials.IfPartial","dynamics:Partials.DataPartial","dynamics:Partials.FunctionsPartial","dynamics:Partials.CachePartial","module:Loading","module:Loadmore"],function(a,b,c){return a.extend({scoped:c},{template:'\n<list ba-repeat="{{collectionitem :: (model.listcollection||listcollection)}}">\n\n    <ba-{{view.listitem||collectionitem.listitem||getview(collectionitem)}}\n        ba-cache\n        ba-data:id="{{collectionitem.cid()}}"\n        ba-data:pid="{{collectionitem.pid()}}"\n        ba-functions="{{collectionitem.callbacks}}"\n        ba-view="{{collectionitem.view||view.listinner}}"\n        ba-model="{{collectionitem}}">\n\n    </ba-{{view.listitem||collectionitem.listitem||getview(collectionitem)}}>\n\n</list>\n\n<ba-loadmore ba-if="{{loadmore}}" ba-show="{{!loading}}" ba-event:loadmore="moreitems">\n</ba-loadmore>\n<ba-loading ba-if="{{loadmore}}" ba-show="{{loading}}">\n</ba-loading>\n',attrs:{listitem:"clickitem",model:!1,view:{}},collections:{listcollection:[{value:"List - Item 1"},{value:"List - Item 2"},{value:"List - Item 3"}]},functions:{moreitems:function(){this.set("loading",!0),b.eventually(function(){this.get("loadmore").increase_forwards().callback(function(){this.set("loading",!1)},this)},this)},getview:function(a){return this.get("listitemfunc")?this.get("listitemfunc")(a):this.get("listitem")}}}).register()}),b.define("module:Searchlist",["dynamics:Dynamic"],["module:List","module:Loading","dynamics:Partials.NoScopePartial"],function(a,b){return a.extend({scoped:b},{template:'\n<searchbox ba-if="{{view.showsearch}}">\n    <icon class="icon-search"></icon>\n    <input placeholder="{{view.placeholder}}" value="{{=searchvalue}}">\n</searchbox>\n\n<ba-loading ba-if="{{searchingindication}}">\n</ba-loading>\n\n<ba-list ba-noscope></ba-list>\n',attrs:{searchvalue:"",searchingindication:!1,view:{placeholder:"Search for",listitem:"clickitem",showsearch:!0}},collections:{listcollection:[{value:"Searchlist - Item 1"},{value:"Searchlist - Item 2"},{value:"Searchlist - Item 3"}]},create:function(){this.on("change:searchvalue",function(){this.set("searchingindication",!0)},this),this.on("change:searching",function(){this.set("searchingindication",this.get("searching"))},this),this.on("change:searchvalue",function(){this.set("searching",!0)},this,{min_delay:750})}}).register()}),b.define("module:Titledlist",["dynamics:Dynamic","base:Loggers.Logger"],["module:List","dynamics:Partials.NoScopePartial","dynamics:Partials.ClickPartial"],function(a,b,c){var d=b.global().tag("dynamic","list");return a.extend({scoped:c},{template:'\n<ba-{{view.titleitem}}\n    ba-click="click_title()"\n    ba-functions="{{model.title_callbacks}}"\n    ba-model="{{model.title_model}}">{{model.title_model.value}}</ba-{{view.titleitem}}>\n\n<ba-list\n        ba-noscope\n        ba-show="{{!collapsed}}">\n\n</ba-list>\n',attrs:{model:{title_model:{value:"Titledlist - Title"}},collapsed:!1,collapsible:!0,listitem:"selectableitem",titleitem:"title"},collections:{listcollection:[{value:"Titledlist - Item 1"},{value:"Titledlist - Item 2"},{value:"Titledlist - Item 3"}]},functions:{togglelist:function(){this.get("collapsible")&&this.set("collapsed",!this.get("collapsed"))},additem:function(a){a=a?a:{value:"Titledlist - New Item"};var b=this.get("listcollection").add(a);return this.get("listcollection").getByIndex(b).cid()},click_title:function(){d.log("You clicked the title"),this.call("togglelist")}}}).register()}),b.define("module:Addtitle",["dynamics:Dynamic","base:Loggers.Logger"],function(a,b,c){var d=b.global().tag("dynamic","list");return a.extend({scoped:c},{template:'\n<addtitle>\n    <title ba-click="clicktitle()">{{model.value}}</title>\n    <button ba-click="addbutton()">\n        <span class="icon-plus"></span>\n    </button>\n</addtitle>',attrs:{model:{value:"Title"}},functions:{clicktitle:function(){this.parent().call("togglelist")},addbutton:function(){d.log("You clicked the addbuton, no addbutton() function given")}}}).register()}),b.define("module:Header",["dynamics:Dynamic"],function(a,b){return a.extend({scoped:b},{template:'\n<ba-list ba-listcollection="{{left_collection}}"></ba-list>',collections:{left_collection:[{listitem:"toggle_menu"},{value:"","class":"icon-home"},{value:"Big Brother","class":"icon-eye-open"},{value:"Header 1"},{value:"Header 2"}]}}).register()}),b.define("module:Toggle_menu",["dynamics:Dynamic"],function(a,b){return a.extend({scoped:b},{template:'<button ba-click="toggle_menu()" class="icon-reorder"></button>',functions:{toggle_menu:function(){this.scope("<+[tagname='ba-layout_web']").call("toggle_menu")}}}).register()}),b.define("module:Menu_web",["dynamics:Dynamic","base:Collections.Collection"],function(a,b,c){return a.extend({scoped:c},{template:'\n<ba-titledlist\n        ba-collapsible="{{false}}"\n        ba-model="{{model}}"\n        ba-listcollection="{{menu_collection}}">\n\n</ba-titledlist>',attrs:{model:{title_model:{value:"Menu Title"}}},collections:{menu_collection:[{value:"Item 1"},{value:"Item 2"},{listitem:"titledlist",title_model:{value:"Item 3"},listcollection:new b({objects:[{value:"Subitem 1"},{value:"Subitem 2"}]})},{value:"Item 4"}]}}).register()}),b.define("module:Layout_web",["dynamics:Dynamic"],function(a,b){return a.extend({scoped:b},{template:'<header>\n    <ba-{{view.header}}>Header</ba-{{view.header}}>\n</header>\n<main>\n    <menu ba-show="{{view.display_menu}}">\n        <ba-{{view.menu}} ba-view="{{view.menuview}}">Menu</ba-{{view.menu}}>\n    </menu>\n    <content>\n        <ba-{{view.content}} ba-model={{contentmodel}} ba-attrs="{{view.contentattrs}}">Content</ba-{{view.content}}>\n    </content>\n</main>',attrs:{view:{header:"header",menu:"menu_web",content:null,display_menu:!0},model:{}},functions:{toggle_menu:function(){this.setProp("view.display_menu",!this.getProp("view.display_menu"))}}}).register()})}).call(Scoped);