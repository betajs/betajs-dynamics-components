/*!
betajs-dynamics-components - v0.1.78 - 2019-02-12
Copyright (c) Victor Lingenthal,Oliver Friedmann
Apache-2.0 Software License.
*/

var Scoped=function(){function a(a){function b(a){return{route:"string"==typeof a.route?a.route:null,parent:"object"==typeof a.parent?a.parent:null,ready:"boolean"==typeof a.ready&&a.ready,children:{},watchers:[],data:{},lazy:[]}}function c(a){if(!a.ready){if(a.parent&&!a.parent.ready)return void c(a.parent);if(a.route&&a.parent&&a.route in a.parent.data){a.data=a.parent.data[a.route],a.ready=!0;for(var b=0;b<a.watchers.length;++b)a.watchers[b].callback.call(a.watchers[b].context||this,a.data);a.watchers=[];for(var d in a.children)c(a.children[d])}}}function d(a){if(!a.ready){a.parent&&!a.parent.ready&&d(a.parent),a.ready=!0,a.parent&&j.tree&&"object"==typeof a.parent.data&&(a.parent.data[a.route]=a.data);for(var b=0;b<a.watchers.length;++b)a.watchers[b].callback.call(a.watchers[b].context||this,a.data);a.watchers=[]}}function e(a,b){if("object"==typeof b&&a.ready)for(var e in b)a.data[e]=b[e];else a.data=b;if("object"==typeof b)for(var f in b)a.children[f]&&(a.children[f].data=b[f]);d(a);for(var g in a.children)c(a.children[g])}function f(a){if(a.ready&&a.data)for(var b in a.data)delete a.data[b]}function g(a){if(!a)return k;for(var d=a.split("."),e=k,f=0;f<d.length;++f)d[f]in e.children?e=e.children[d[f]]:(e.children[d[f]]=b({parent:e,route:d[f]}),e=e.children[d[f]],c(e));return e}function h(a,b,c){if(a.ready)b.call(c||this,a.data);else if(a.watchers.push({callback:b,context:c}),a.lazy.length>0){var d=function(a){if(a.lazy.length>0){var b=a.lazy.shift();b.callback.call(b.context||this,a.data),d(a)}};d(a)}}function i(a,b,c){a=a||k,c=c||[],!a.ready&&0===a.lazy.length&&a.watchers.length>0&&c.push(b);for(var d in a.children){var e=a.children[d];c=i(e,(b?b+".":"")+e.route,c)}return c}var j={tree:"boolean"==typeof a.tree&&a.tree,global:"boolean"==typeof a.global&&a.global,root:"object"==typeof a.root?a.root:{}},k=b({ready:!0});if(j.tree)if(j.global){try{window&&(k.data=window)}catch(l){}try{global&&(k.data=global)}catch(l){}try{self&&(k.data=self)}catch(l){}}else k.data=j.root;return{extend:function(a,b){e(g(a),b)},set:function(a,b){var c=g(a);c.data&&f(c),e(c,b)},get:function(a){var b=g(a);return b.ready?b.data:null},lazy:function(a,b,c){var d=g(a);d.ready?b(c||this,d.data):d.lazy.push({callback:b,context:c})},digest:function(a){c(g(a))},obtain:function(a,b,c){h(g(a),b,c)},unresolvedWatchers:function(a){return i(g(a),a)},__export:function(){return{options:j,nsRoot:k}},__import:function(a){j=a.options,k=a.nsRoot}}}function b(e,f,g,h){var i=null,j=[],k=f,l=g,m=h,n=a({tree:!0}),o=a({tree:!1}),p={global:{namespace:m},root:{namespace:l},local:{namespace:n},"default":{namespace:o},parent:{namespace:k},scope:{namespace:n,readonly:!1}},q=function(a,b,c){var e=d.matchArgs(a,{options:"object",namespaceLocator:!0,dependencies:"array",hiddenDependencies:"array",callback:!0,context:"object"}),f=d.extend({lazy:this.options.lazy},e.options||{}),g=this.resolve(e.namespaceLocator),h=function(){this.require(e.dependencies,e.hiddenDependencies,function(){for(var f=[],h=0;h<arguments.length;++h)f.push(arguments[h]);if(f[f.length-1].ns=g,this.options.compile){for(var i=[],j=0;j<a.length;++j)i.push(d.stringify(a[j]));this.compiled+=this.options.ident+"."+b+"("+i.join(", ")+");\n\n"}this.options.dependencies&&(this.dependencies[g.path]=this.dependencies[g.path]||{},e.dependencies&&e.dependencies.forEach(function(a){this.dependencies[g.path][this.resolve(a).path]=!0},this),e.hiddenDependencies&&e.hiddenDependencies.forEach(function(a){this.dependencies[g.path][this.resolve(a).path]=!0},this));var k=this.options.compile?{}:e.callback.apply(e.context||this,f);c.call(this,g,k)},this)};return f.lazy?g.namespace.lazy(g.path,h,this):h.apply(this),this};return{getGlobal:d.method(c,c.getPath),setGlobal:d.method(c,c.setPath),options:{lazy:!1,ident:"Scoped",compile:!1,dependencies:!1},compiled:"",dependencies:{},nextScope:function(){return i||(i=b(this,n,l,m)),i},subScope:function(){var a=this.nextScope();return j.push(a),i=null,a},binding:function(b,c,e){if(!p[b]||!p[b].readonly){var f;f="string"!=d.typeOf(c)?{namespace:a({tree:!0,root:c}),path:null}:this.resolve(c),p[b]=d.extend(e,f)}return this},resolve:function(a){var b=a.split(":");if(1==b.length)throw"The locator '"+b[0]+"' requires a namespace.";var c=p[b[0]];if(!c)throw"The namespace '"+b[0]+"' has not been defined (yet).";return{namespace:c.namespace,path:c.path&&b[1]?c.path+"."+b[1]:c.path||b[1]}},define:function(){return q.call(this,arguments,"define",function(a,b){if(a.namespace.get(a.path))throw"Scoped namespace "+a.path+" has already been defined. Use extend to extend an existing namespace instead";a.namespace.set(a.path,b)})},assumeVersion:function(){var a=d.matchArgs(arguments,{assumption:!0,dependencies:"array",callback:!0,context:"object",error:"string"}),b=a.dependencies||[];b.unshift(a.assumption),this.require(b,function(){var b=arguments,c=b[0].replace(/[^\d\.]/g,"");b[0]=c.split(".");for(var e=0;e<b[0].length;++e)b[0][e]=parseInt(b[0][e],10);if("function"===d.typeOf(a.callback)){if(!a.callback.apply(a.context||this,a))throw"Scoped Assumption '"+a.assumption+"' failed, value is "+c+(a.error?", but assuming "+a.error:"")}else for(var f=(a.callback+"").replace(/[^\d\.]/g,"").split("."),g=0;g<Math.min(b[0].length,f.length);++g)if(parseInt(f[g],10)>b[0][g])throw"Scoped Version Assumption '"+a.assumption+"' failed, value is "+c+", but assuming at least "+a.callback})},extend:function(){return q.call(this,arguments,"extend",function(a,b){a.namespace.extend(a.path,b)})},require:function(){var a=d.matchArgs(arguments,{dependencies:"array",hiddenDependencies:"array",callback:"function",context:"object"});a.callback=a.callback||function(){};var b=a.dependencies||[],c=b.concat(a.hiddenDependencies||[]),e=c.length,f=[],g={};if(e)for(var h=function(b){this.i<f.length&&(f[this.i]=b),0===--e&&(f.push(g),a.callback.apply(a.context||this.ctx,f))},i=0;i<c.length;++i){var j=this.resolve(c[i]);i<b.length&&f.push(null),j.namespace.obtain(j.path,h,{ctx:this,i:i})}else f.push(g),a.callback.apply(a.context||this,f);return this},digest:function(a){var b=this.resolve(a);return b.namespace.digest(b.path),this},unresolved:function(a){var b=this.resolve(a);return b.namespace.unresolvedWatchers(b.path)},__export:function(){return{parentNamespace:k.__export(),rootNamespace:l.__export(),globalNamespace:m.__export(),localNamespace:n.__export(),privateNamespace:o.__export()}},__import:function(a){k.__import(a.parentNamespace),l.__import(a.rootNamespace),m.__import(a.globalNamespace),n.__import(a.localNamespace),o.__import(a.privateNamespace)}}}var c=function(){return{get:function(a){return"undefined"!=typeof window?a?window[a]:window:"undefined"!=typeof global?a?global[a]:global:"undefined"!=typeof self?a?self[a]:self:undefined},set:function(a,b){return"undefined"!=typeof window&&(window[a]=b),"undefined"!=typeof global&&(global[a]=b),"undefined"!=typeof self&&(self[a]=b),b},getPath:function(a){if(!a)return this.get();var b=a.split(".");if(1==b.length)return this.get(a);for(var c=this.get(b[0]),d=1;d<b.length;++d){if(!c)return c;c=c[b[d]]}return c},setPath:function(a,b){var c=a.split(".");if(1==c.length)return this.set(a,b);for(var d=this.get(c[0])||this.set(c[0],{}),e=1;e<c.length-1;++e)c[e]in d||(d[c[e]]={}),d=d[c[e]];return d[c[c.length-1]]=b,b}}}.call(this),d=function(){return{method:function(a,b){return function(){return b.apply(a,arguments)}},extend:function(a,b){a=a||{},b=b||{};for(var c in b)a[c]=b[c];return a},typeOf:function(a){return"[object Array]"===Object.prototype.toString.call(a)?"array":typeof a},isEmpty:function(a){if(null===a||void 0===a)return!0;if("array"==this.typeOf(a))return 0===a.length;if("object"!=typeof a)return!1;for(var b in a)return!1;return!0},matchArgs:function(a,b){var c=0,d={};for(var e in b)!0===b[e]||this.typeOf(a[c])==b[e]?(d[e]=a[c],c++):"undefined"==this.typeOf(a[c])&&c++;return d},stringify:function(a){return"function"==this.typeOf(a)?""+a:JSON.stringify(a)}}}.call(this),e=function(){return{__namespace:"Scoped",__revert:null,upgrade:function(a){var b=c.get(a||e.__namespace);if(b&&"object"==d.typeOf(b)&&b.guid==this.guid&&"string"==d.typeOf(b.version)){for(var f=this.version.split("."),g=b.version.split("."),h=!1,i=0;i<Math.min(f.length,g.length)&&(h=parseInt(f[i],10)>parseInt(g[i],10),f[i]==g[i]);++i);return h?this.attach(a):b}return this.attach(a)},attach:function(a){a&&(e.__namespace=a);var b=c.get(e.__namespace);if(b==this)return this;if(e.__revert=b,b)try{var d=b.__exportScoped();this.__exportBackup=this.__exportScoped(),this.__importScoped(d)}catch(f){}return c.set(e.__namespace,this),this},detach:function(a){return a&&c.set(e.__namespace,null),"undefined"!=typeof e.__revert&&c.set(e.__namespace,e.__revert),delete e.__revert,e.__exportBackup&&this.__importScoped(e.__exportBackup),this},exports:function(a,b,c){return a=a||("undefined"!=typeof module?module:null),"object"==typeof a&&a&&"exports"in a&&(c||a.exports==this||!a.exports||d.isEmpty(a.exports))&&(a.exports=b||this),this}}}.call(this),f=a({tree:!0,global:!0}),g=a({tree:!0}),h=b(null,g,g,f),i=d.extend(h,function(){return{guid:"4b6878ee-cb6a-46b3-94ac-27d91f58d666",version:"0.0.19",upgrade:e.upgrade,attach:e.attach,detach:e.detach,exports:e.exports,__exportScoped:function(){return{globalNamespace:f.__export(),rootNamespace:g.__export(),rootScope:h.__export()}},__importScoped:function(a){f.__import(a.globalNamespace),g.__import(a.rootNamespace),h.__import(a.rootScope)}}}.call(this));return i=i.upgrade(),i.exports(),i}.call(this);(function(){var Scoped=this.subScope();Scoped.binding("module","global:BetaJS.Dynamics.Components"),Scoped.binding("base","global:BetaJS"),Scoped.binding("browser","global:BetaJS.Browser"),Scoped.binding("dynamics","global:BetaJS.Dynamics"),Scoped.binding("ui","global:BetaJS.UI"),Scoped.define("module:",function(){return{guid:"ced27948-1e6f-490d-b6c1-548d39e8cd8d",version:"0.1.78"}}),Scoped.assumeVersion("base:version","~1.0.96"),Scoped.assumeVersion("browser:version","~1.0.65"),Scoped.assumeVersion("dynamics:version","~0.0.83"),Scoped.assumeVersion("ui:version","~1.0.37"),Scoped.define("module:Dropdown",["dynamics:Dynamic","base:Properties.Properties"],["dynamics:Partials.EventForwardPartial","dynamics:Partials.EventPartial","dynamics:Partials.TapPartial","module:List"],function(Dynamic,Properties,scoped){return Dynamic.extend({scoped:scoped},{template:'<button\n        onblur="{{this.execute(\'blur\')}}"\n        ba-tap="{{click()}}"\n        class="{{view.icon}}">\n    <dropdown ba-show="{{showdropdown}}">\n        <description ba-if="{{view.description}}">\n            {{view.description}}\n        </description>\n        <ba-{{view.dropdown}}\n            ba-view.listitem="{{view.listitem}}"\n            ba-event:item-click="hide_dropdown"\n            ba-event-forward:dropdown\n            ba-model=\'{{dropdownmodel}}\'\n            ba-listcollection=\'{{dropdownmodel}}\'\n\n        ></ba-{{view.dropdown}}>\n    </dropdown>\n</button>\n',attrs:function(){return{view:{description:null,dropdown:"list",icon:"icon-more_vert",useremove:!0},dropdownmodel:{},value:null,showdropdown:!1}},extendables:["view"],functions:{click:function(){!1===this.get("showdropdown")?(this.set("showdropdown",!0),this.element()[0].focus()):this.set("showdropdown",!1)},blur:function(){1==window.getComputedStyle(this.element()[0]).getPropertyValue("opacity")&&this.execute("hide_dropdown")},hide_dropdown:function(){this.set("showdropdown",!1)}}}).registerFunctions({"this.execute('blur')":function(obj){with(obj)return this.execute("blur")},"click()":function(obj){with(obj)return click()},"view.icon":function(obj){with(obj)return view.icon},showdropdown:function(obj){with(obj)return showdropdown},"view.description":function(obj){with(obj)return view.description},"view.dropdown":function(obj){with(obj)return view.dropdown},"view.listitem":function(obj){with(obj)return view.listitem},dropdownmodel:function(obj){with(obj)return dropdownmodel}}).register()}),Scoped.define("module:Dropdownselect",["dynamics:Dynamic","base:Properties.Properties"],["dynamics:Partials.EventForwardPartial","dynamics:Partials.EventPartial","dynamics:Partials.TapPartial","module:List","module:Clickitem"],function(Dynamic,Properties,scoped){return Dynamic.extend({scoped:scoped},{template:'<button\n        onblur="{{this.execute(\'blur\')}}"\n        ba-tap="{{click()}}"\n        class="{{model.icon}}"\n        style="color: {{model.icon_color}}; background: {{model.background}}" >\n    <dropdownselect ba-show="{{showdropdown}}">\n        <description ba-if="{{view.description}}">\n            {{view.description}}\n        </description>\n        <ba-{{view.dropdown}}\n            ba-view.listitem="{{view.listitem}}"\n            ba-event:item-click="hide_dropdown"\n            ba-event-forward:dropdownselect="{{[]}}"\n            ba-model=\'{{dropdownmodel}}\'\n            ba-listcollection=\'{{dropdownmodel}}\'\n\n        ></ba-{{view.dropdown}}>\n        <ba-clickitem\n                ba-model="{{removemodel}}"\n                ba-if="{{view.useremove}}"\n                ba-event:click="remove_selected"\n                ba-event-forward:dropdownselect="{{[]}}"\n        ></ba-clickitem>\n    </dropdownselect>\n</button>\n',attrs:function(){return{view:{description:null,dropdown:"list",icon:"icon-more_vert",color:null,background:null,useremove:!0},model:new Properties({icon:"icon-more_vert",color:null,background:null}),removemodel:new Properties({icon:"icon-remove",background:"white",value:"None"}),dropdownmodel:{},value:null,showdropdown:!1}},create:function(){this.get("model")||this.set("model",this.get("view"))},extendables:["view"],functions:{click:function(){!1===this.get("showdropdown")?(this.set("showdropdown",!0),this.element()[0].focus()):this.set("showdropdown",!1)},blur:function(){1==window.getComputedStyle(this.element()[0]).getPropertyValue("opacity")&&this.execute("hide_dropdown")},hide_dropdown:function(){this.set("showdropdown",!1)},remove_selected:function(){this.set("model",this.get("view")),this.execute("hide_dropdown")}}}).registerFunctions({"this.execute('blur')":function(obj){with(obj)return this.execute("blur")},"click()":function(obj){with(obj)return click()},"model.icon":function(obj){with(obj)return model.icon},"model.icon_color":function(obj){with(obj)return model.icon_color},"model.background":function(obj){with(obj)return model.background},showdropdown:function(obj){with(obj)return showdropdown},"view.description":function(obj){with(obj)return view.description},"view.dropdown":function(obj){with(obj)return view.dropdown},"view.listitem":function(obj){with(obj)return view.listitem},"[]":function(obj){with(obj)return[]},dropdownmodel:function(obj){with(obj)return dropdownmodel},removemodel:function(obj){with(obj)return removemodel},"view.useremove":function(obj){with(obj)return view.useremove}}).register()}),Scoped.define("module:Htmlview",["dynamics:Dynamic","base:Async","browser:Loader","browser:Dom","ui:Interactions.Pinch"],function(a,b,c,d,e,f){return a.extend({scoped:f},{template:"<iframe frameBorder='0' scrolling='no'></iframe>",attrs:{html:"",loadhtml:"",fakezoom:!1},types:{fakezoom:"boolean"},events:{"change:html":function(){this.activated()&&this._updateIFrame()},"change:loadhtml":function(){this._loadHtml()}},_loadHtml:function(){this.get("loadhtml")&&c.loadHtml(this.get("loadhtml"),function(a){this.set("html",a)},this)},_cleanupContent:function(a){for(var b=d.elementByTemplate("<div>"+a+"</div>"),c=b.querySelectorAll("script"),e=0;e<c.length;++e)c[e].parentNode.removeChild(c[e]);for(var f=b.querySelectorAll("iframe"),g=0;g<f.length;++g)f[g].parentNode.removeChild(f[g]);return b},create:function(){var a=function(){b.eventually(function(){this.destroyed()||(this._updateSize(),this._timeout*=2,a.call(this))},this,this._timeout)};a.call(this),this._loadHtml()},_iframe:function(){return this.activeElement().querySelector("iframe")},_iframeHtml:function(){return this._iframe().contentDocument.querySelector("html")},_iframeBody:function(){return this._iframe().contentDocument.querySelector("body")},_afterActivate:function(){this._updateIFrame(),b.eventually(function(){if(!this.destroyed()&&this.get("fakezoom")){var a=100,b=this._iframe(),c=this._iframeBody();this.auto_destroy(new e(c,{enabled:!0})).on("pinch",function(c){var d=c.delta_last.x;a+=d/5,b.style.zoom=a+"%"})}},this,1e3)},_updateIFrame:function(){this._iframeHtml().innerHTML=this._cleanupContent(this.get("html")).innerHTML,this._updateSize(),this._timeout=100},_updateSize:function(){var a=this.activeElement().querySelector("iframe"),b=a.contentDocument.querySelector("html")||a.contentDocument.querySelector("body"),c=b.scrollWidth,d=b.scrollHeight;if(!a.contentDocument.querySelector("body")){d=1;for(var e=a.contentDocument.querySelector("html"),f=0;f<e.length;++f){var g=e[f].tagName.toLowerCase();if("style"===g||"script"===g||"head"===g)return;d=Math.max(d,e[f].innerHeight+e[f].offsetTop)}}var h=a.clientWidth,i=h/c;Math.abs(d-a.clientHeight)<2||(b.style.MozTransform="scale("+i+")",b.style.zoom=100*i+"%",a.style.width=a.parentNode.offsetWidth+"px",a.style.height=Math.ceil(d*i+10)+"px")}}).registerFunctions({}).register()}),Scoped.define("module:Clickinput",["dynamics:Dynamic"],function(Dynamic,scoped){return Dynamic.extend({scoped:scoped},{template:'\n<title\n        ba-if="{{!view.edit || !view.externaledit}}"\n        ba-click="{{edititem()}}"\n>\n    {{model.value}}\n</title>\n\n<input\n        placeholder="{{view.placeholder || \'\'}}"\n        ba-if="{{view.edit}}"\n        ba-return="{{view.edit = false}}"\n        onblur="{{view.edit = false}}"\n        value="{{=model.value}}" />\n',attrs:{model:{value:"Test"},view:{placeholder:"",edit:!1,autofocus:!0,externaledit:!0}},extendables:["view"],functions:{edititem:function(){if(console.log("Clickinput: Edititem"),this.getProp("view.externaledit")){this.setProp("view.edit",!0);var a=this.activeElement().querySelector("input"),b=this.getProp("model.value").length;a.focus(),a.setSelectionRange(b,b)}}}}).registerFunctions({"!view.edit || !view.externaledit":function(obj){with(obj)return!view.edit||!view.externaledit},"edititem()":function(obj){with(obj)return edititem()},"model.value":function(obj){with(obj)return model.value},"view.placeholder || ''":function(obj){with(obj)return view.placeholder||""},"view.edit":function(obj){with(obj)return view.edit},"view.edit = false":function(obj){with(obj)return view.edit=!1}}).register()}),Scoped.define("module:Input",["dynamics:Dynamic"],["dynamics:Partials.OnPartial"],function(Dynamic,scoped){return Dynamic.extend({scoped:scoped},{template:'<input\n        value="{{value}}"\n        ba-on:keydown="{{keydown(event)}}"\n        placeholder="{{view.placeholder || \'\'}}"\n        autofocus />',attrs:{value:"",view:{placeholder:"",autofocus:!0}},functions:{blur:function(){this.trigger("blur"),this.element()[0].blur()},keydown:function(a){"Enter"!==a.code||a.shiftKey||(this.execute("blur"),a.preventDefault())}}}).registerFunctions({value:function(obj){with(obj)return value},"keydown(event)":function(obj){with(obj)return keydown(event)},"view.placeholder || ''":function(obj){with(obj)return view.placeholder||""}}).register()}),Scoped.define("module:Scrollpicker",["dynamics:Dynamic","ui:Interactions.Loopscroll"],["dynamics:Partials.RepeatElementPartial"],function(Dynamic,Loopscroll,scoped){return Dynamic.extend({scoped:scoped},{template:'<container ba-interaction:loopscroll="{{loopscroll}}">\n        <element ba-repeat-element="{{value :: values}}" data-value="{{value}}">\n                {{value}}\n        </element>\n</container>\n<scrolloverlay ba-class="{{{\n                  valuetop : top\n               }}}">\n        <pickeroverlay></pickeroverlay>\n        <valueoverlay></valueoverlay>\n</scrolloverlay>',attrs:{first:0,last:23,atleast:100,increment:1,top:!1,value:10,valueadd:0},types:{first:"int",last:"int",increment:"int",top:"bool",value:"int",valueadd:"int"},events:{"change:value":function(a){this.activeElement()&&this.activeElement().querySelector("container")&&(this.__ignoreValue||this._loopScroll().scrollToElement(this.getElementByValue(this.get("value"))))}},create:function(){for(var a=[],b=this.get("first")<=this.get("last")?1:-1;a.length<this.get("atleast");)for(var c=this.get("first");b*(this.get("last")-c)>=0;c+=b*this.get("increment"))a.push(c);this.set("values",a),this.set("loopscroll",{type:"loopscroll",enabled:!0,currentTop:this.get("top"),discrete:!0,scrollEndTimeout:200,elementMargin:0,currentCenter:!0,currentElementClass:"selected",discreteUpperThreshold:.99,discreteLowerThreshold:.01,scrollToOnClick:!0})},_loopScroll:function(){return this.activeElement().querySelector("container").dynnodehandler.interactions.loopscroll},_encodeValue:function(a){a+=this.get("valueadd");var b=this.get("first")-a;return b=Math.round(b/this.get("increment"))*this.get("increment"),a=this.get("first")-b,a=this.get("first")<=this.get("last")?Math.max(this.get("first"),Math.min(this.get("last"),a)):Math.max(this.get("last"),Math.min(this.get("first"),a))},_decodeValue:function(a){return a-this.get("valueadd")},getElementByValue:function(a){return this.activeElement().querySelector("[data-value='"+this._encodeValue(a)+"']")},getValueByElement:function(a){return this._decodeValue(parseInt(a.dataset.value,10))},_afterActivate:function(a){this.activeElement().querySelector("[ba-repeat-element]").remove(),this._loopScroll().scrollToElement(this.getElementByValue(this.get("value"))),this._loopScroll().on("change-current-element",function(a){this.__ignoreValue=!0,this.set("value",this.getValueByElement(a)),this.__ignoreValue=!1},this)}}).registerFunctions({loopscroll:function(obj){with(obj)return loopscroll},values:function(obj){with(obj)return values},value:function(obj){with(obj)return value},"{\n                  valuetop : top\n               }":function(obj){with(obj)return{valuetop:top}}}).register()}),Scoped.define("module:Search",["dynamics:Dynamic"],["module:Loading","module:Dropdown"],function(Dynamic,scoped){return Dynamic.extend({scoped:scoped},{template:'\n<icon\n        ba-if="{{!searching}}"\n        class="icon-search"\n></icon>\n\n<ba-loading ba-if="{{searching}}"></ba-loading>\n\n<div>\n    <input\n            onfocus="{{this.execute(\'onfocus\')}}"\n            onblur="{{this.execute(\'onblur\')}}"\n            placeholder="{{view.placeholder || \'\'}}"\n            value="{{=value}}"\n    />\n</div>\n\n<ba-{{view.searchbuttons}}\n        ba-if="{{nosearch}}"\n        ba-event-forward\n></ba-{{view.searchbuttons}}>\n\n<ba-dropdown\n        ba-if="{{view.filter_visible}}"\n        ba-event:~dropdown-item-click="searchdropdown-click"\n        ba-view.icon="icon-filter"\n        ba-dropdownmodel="{{view.dropdownmodel}}"\n></ba-dropdown>\n',attrs:{value:"",loading:!1,nosearch:!0,view:{placeholder:"Placeholder",autofocus:!0,filter_visible:!1,searchbuttons:null}},extendables:["view"],events:{"change:value":function(a){this.set("loading",!!a)}},functions:{onfocus:function(){this.set("nosearch",!1)},onblur:function(){this.set("nosearch",!0)}}}).registerFunctions({"!searching":function(obj){with(obj)return!searching},searching:function(obj){with(obj)return searching},"this.execute('onfocus')":function(obj){with(obj)return this.execute("onfocus")},"this.execute('onblur')":function(obj){with(obj)return this.execute("onblur")},"view.placeholder || ''":function(obj){with(obj)return view.placeholder||""},value:function(obj){with(obj)return value},"view.searchbuttons":function(obj){with(obj)return view.searchbuttons},nosearch:function(obj){with(obj)return nosearch},"view.filter_visible":function(obj){with(obj)return view.filter_visible},"view.dropdownmodel":function(obj){with(obj)return view.dropdownmodel}}).register()}),Scoped.define("module:Textinput",["dynamics:Dynamic","base:Strings"],["dynamics:Partials.OnPartial"],function(Dynamic,Strings,scoped){return Dynamic.extend({scoped:scoped},{template:'<placeholder\n        ba-if="{{view.placeholder_visible && !value}}"\n>{{view.placeholder}}</placeholder>\n\x3c!--ba-tap="{{click_textarea()}}"--\x3e\n\x3c!--onfocus="{{this.execute(\'onfocus\')}}"--\x3e\n\x3c!--onfocusout="{{this.execute(\'blur\')}}"--\x3e\n<textarea\n        onfocus="{{this.execute(\'onfocus\')}}"\n        value="{{=value}}"\n></textarea>\n<pre>{{=preheighttext}}</pre>\n',attrs:{value:null,height:0,view:{placeholder:"",placeholder_visible:!0,autofocus:!0}},computed:{"preheighttext:value":function(){var a=this.get("value");return a+(Strings.ends_with(a||"","\n")?" ":"")}},windowevents:{touchstart:function(a){"TEXTAREA"==document.activeElement.nodeName&&"TEXTAREA"==a.target.nodeName||"INPUT"==a.target.nodeName||this.execute("blur")}},functions:{click_textarea:function(){"TEXTAREA"!=document.activeElement.nodeName&&this.element()[1].select()},blur:function(){this.trigger("blur"),this.element()[1].blur()},onfocus:function(){this.trigger("onfocus")}}}).registerFunctions({"view.placeholder_visible && !value":function(obj){with(obj)return view.placeholder_visible&&!value},"view.placeholder":function(obj){with(obj)return view.placeholder},"this.execute('onfocus')":function(obj){with(obj)return this.execute("onfocus")},value:function(obj){with(obj)return value},preheighttext:function(obj){with(obj)return preheighttext}}).register()}),Scoped.define("module:Overlaycontainer",["dynamics:Dynamic"],["dynamics:Partials.TapPartial"],function(Dynamic,scoped){return Dynamic.extend({scoped:scoped},{template:'<overlaycontainer\n    ba-click="{{showoverlay = false}}"\n    ba-if="{{showoverlay}}"\n    ba-class="{{{\n                normal : !view.fullpage,\n                fullpage : view.fullpage,\n                overlaysplit: view.overlaysplit\n            }}}">\n\n    <overlaysplit ba-if="{{view.overlaysplit}}">\n        <top style="height: {{view.offsetTop}}px"></top>\n        <split style="height: {{view.offsetHeight}}px"></split>\n        <bottom></bottom>\n    </overlaysplit>\n\n    <overlayinner>\n\n        <ba-{{view.overlay}}\n            ba-event-forward\n            ba-noscope>\n        \x3c!--<ba-{{view.overlay}} ba-model="{{model}}">--\x3e\n            <message>{{model.message}}</message>\n        </ba-{{view.overlay}}>\n\n    </overlayinner>\n\n</overlaycontainer>',attrs:function(){return{overlaysplit:!0,view:{overlay:"",fullpage:!1,overlaysplit:!0},model:{message:"This is a message"},value:null,showoverlay:!0}}}).registerFunctions({"showoverlay = false":function(obj){with(obj)return showoverlay=!1},showoverlay:function(obj){with(obj)return showoverlay},"{\n                normal : !view.fullpage,\n                fullpage : view.fullpage,\n                overlaysplit: view.overlaysplit\n            }":function(obj){with(obj)return{normal:!view.fullpage,fullpage:view.fullpage,overlaysplit:view.overlaysplit}},"view.overlaysplit":function(obj){with(obj)return view.overlaysplit},"view.offsetTop":function(obj){with(obj)return view.offsetTop},"view.offsetHeight":function(obj){with(obj)return view.offsetHeight},"view.overlay":function(obj){with(obj)return view.overlay},"model.message":function(obj){with(obj)return model.message}}).register()}),Scoped.define("module:Jsconsole",["dynamics:Dynamic","base:Functions"],["dynamics:Partials.RepeatPartial","dynamics:Partials.ReturnPartial"],function(Dynamic,Functions,scoped){return Dynamic.extend({scoped:scoped},{template:'<console-output ba-repeat="{{log::logs}}">\n    <p style="color:{{log.color}}">{{log.text}}</p>\n</console-output>\n<console-input>\n    <input value="{{=command}}" ba-return="{{run_command()}}" />\n</console-input>',collections:["logs"],create:function(){this.set("command","");var a=console.log,b=this.get("logs");console.log=function(){return b.add({color:"gray",text:Functions.getArguments(arguments).join(" ")}),a.apply(this,arguments)}},functions:{run_command:function(){var a=this.get("logs");a.add({color:"black",text:this.get("command")});var b=window.eval(this.get("command"));a.add({color:"blue",text:b}),this.set("command","")}}}).registerFunctions({logs:function(obj){with(obj)return logs},"log.color":function(obj){with(obj)return log.color},"log.text":function(obj){with(obj)return log.text},command:function(obj){with(obj)return command},"run_command()":function(obj){with(obj)return run_command()}}).register()}),Scoped.define("module:Clickcontainer",["dynamics:Dynamic"],function(a,b){return a.extend({scoped:b},{template:'\n<clickcontainer\n        ba-click="click()">\n<ba-{{view.inner}}\n    ba-noscope></ba-{{view.inner}}>\n</clickcontainer>\n\n',attrs:{view:{inner:"eventitem"}},functions:{click:function(){this.trigger("clickcontainerclick",this.get("model"))}}}).register()}),Scoped.define("module:Loading",["dynamics:Dynamic"],function(a,b){return a.extend({scoped:b},{template:'\n<div class="sk-circle">\n    <div class="sk-circle1 sk-child"></div>\n    <div class="sk-circle2 sk-child"></div>\n    <div class="sk-circle3 sk-child"></div>\n    <div class="sk-circle4 sk-child"></div>\n    <div class="sk-circle5 sk-child"></div>\n    <div class="sk-circle6 sk-child"></div>\n    <div class="sk-circle7 sk-child"></div>\n    <div class="sk-circle8 sk-child"></div>\n    <div class="sk-circle9 sk-child"></div>\n    <div class="sk-circle10 sk-child"></div>\n    <div class="sk-circle11 sk-child"></div>\n    <div class="sk-circle12 sk-child"></div>\n</div>\n'}).registerFunctions({}).register()}),Scoped.define("module:Loadmore",["dynamics:Dynamic"],function(Dynamic,scoped){return Dynamic.extend({scoped:scoped},{template:'\n<loadmore ba-click="{{load_more()}}">\n\n    <button class="icon-ellipsis"></button>\n\n</loadmore>',attrs:{view:{value:"Placeholder"}},functions:{load_more:function(){this.chainedTrigger("loadmore",this)}}}).registerFunctions({"load_more()":function(obj){with(obj)return load_more()}}).register()}),Scoped.define("module:Clickitem",["dynamics:Dynamic"],function(Dynamic,scoped){return Dynamic.extend({scoped:scoped},{template:'\n<button\n        ba-class="{{{\n            \'icon\' : model.background || model.icon,\n            \'noicon\' : !model.icon && !model.background\n        }}}"\n        ba-tap="{{click()}}">\n    <icon\n            class="{{model.icon}}"\n            style="background : {{model.background}}; color : {{model.icon_color}}"\n    ></icon>\n    <value>\n        {{model.value || model.name}}\n    </value>\n</button>\n\n',attrs:{model:{icon:"",value:"Clickitem - Value",eventid:"noid"}},functions:{click:function(){this.trigger("click",this.get("model")),this.trigger("event",this.cid())}}}).registerFunctions({"{\n            'icon' : model.background || model.icon,\n            'noicon' : !model.icon && !model.background\n        }":function(obj){with(obj)return{icon:model.background||model.icon,noicon:!model.icon&&!model.background}},"click()":function(obj){with(obj)return click()},"model.icon":function(obj){with(obj)return model.icon},"model.background":function(obj){with(obj)return model.background},"model.icon_color":function(obj){with(obj)return model.icon_color},"model.value || model.name":function(obj){with(obj)return model.value||model.name}}).register()}),Scoped.define("module:Eventitem",["dynamics:Dynamic"],function(Dynamic,scoped){return Dynamic.extend({scoped:scoped},{template:"\n<button\n        class=\"{{model['class']}}\">\n    {{model.value}} - {{counter}}\n</button>",attrs:{counter:0,model:{value:"Eventitem - Clicked "}},functions:{click:function(){this.trigger("event",this.cid())}},create:function(){this.on("event",function(a){this.set("counter",this.get("counter")+1)},this)}}).registerFunctions({"model['class']":function(obj){with(obj)return model["class"]},"model.value":function(obj){with(obj)return model.value},counter:function(obj){with(obj)return counter}}).register()}),Scoped.define("module:Selectableitem",["dynamics:Dynamic","base:Objs"],["dynamics:Partials.ClassPartial"],function(Dynamic,Objs,scoped){Dynamic.extend({
scoped:scoped},{template:'\n<selectableitem\n        ba-class="{{{selected : selected.cid == this.cid()}}}"\n        ba-click="{{select()}}">\n    {{model.value}}\n</selectableitem>',bindings:{selected:"<+[tagname='ba-list']:selected_item"},scopes:{parent_list:"<+[tagname='ba-list']"},attrs:{model:{value:"Selectableitem - Value"}},create:function(){var a=this.scopes.parent_list;a?a.get("listcollection")&&(this.scopes.parent_list.get("selected_item")||this.call("select")):console.warn("There is no parent list the selector can attach to, this currently only works with ba-list")},functions:{select:function(){this.scopes.parent_list.set("selected_item",Objs.extend({cid:this.cid()},this.get("model").data()))}}}).registerFunctions({"{selected : selected.cid == this.cid()}":function(obj){with(obj)return{selected:selected.cid==this.cid()}},"select()":function(obj){with(obj)return select()},"model.value":function(obj){with(obj)return model.value}}).register()}),Scoped.define("module:List",["dynamics:Dynamic","browser:Dom","base:Async","base:Promise"],["dynamics:Partials.EventForwardPartial","dynamics:Partials.RepeatPartial","dynamics:Partials.IfPartial","dynamics:Partials.DataPartial","dynamics:Partials.FunctionsPartial","dynamics:Partials.CachePartial","module:Loading","module:Loadmore","ui:Interactions.Infinitescroll","ui:Interactions.Droplist"],function(Dynamic,Dom,Async,Promise,scoped){return Dynamic.extend({scoped:scoped},{template:'\x3c!--<ba-loadmore ba-if="{{!!loadmore && loadmorestyle !== \'infinite\' && loadmorebackwards}}" ba-show="{{!loading}}" ba-event:loadmore="moreitemsbackwards">--\x3e\n\x3c!--</ba-loadmore>--\x3e\n<ba-loading ba-show="{{loadmorebackwards && loading}}">\n</ba-loading>\n\n<list ba-repeat="{{view.repeatoptions :: collectionitem :: (model.listcollection||listcollection)}}"\n      ba-interaction:scroll="{{infinite_scroll_options}}"\n      ba-interaction:droplist="{{drop_list_options}}">\n\x3c!--<list ba-repeat="{{collectionitem :: (model.listcollection||listcollection)}}">--\x3e\n    \x3c!--ba-isselected="{{isselected(collectionitem)}}"--\x3e\n\n    <ba-{{getview(collectionitem)}}\n        ba-cache\n        ba-experimental="{{!!collectionitem.experimental}}"\n        data-id="{{collectionitem.cid()}}"\n        ba-data:id="{{collectionitem.cid()}}"\n        ba-data:pid="{{collectionitem.pid()}}"\n        ba-selection="{{=selection}}"\n        ba-droplist="{{droplist}}"\n        ba-functions="{{collectionitem.callbacks}}"\n        ba-isselected="{{isEqual(collectionitem, selected)}}"\n        ba-event-forward:item="{{[collectionitem]}}"\n        ba-view="{{collectionitem.view||view.listinner}}"\n        ba-model="{{collectionitem}}">\n\n    </ba-{{getview(collectionitem)}}>\n\n</list>\n\n<div class="doodad" data-id="floater" style="display:none">\n    <div class="inner" style="height: 44px; line-height: 44px; background-color: #EEEEEE">\n        Move Here\n    </div>\n</div>\n<ba-loadmore ba-if="{{!!loadmore && loadmorestyle !== \'infinite\'}}" ba-show="{{!loading}}" ba-event:loadmore="moreitems">\n</ba-loadmore>\n<ba-loading ba-show="{{loading}}">\n</ba-loading>\n',attrs:function(){return{listitem:"clickitem",model:!1,selected:null,selection:null,scrolltolast:null,scrolltofirst:null,autoscroll:!1,stickybottom:!1,droplist:!1,view:{},infinite_scroll_options:{disabled:!0,parent_elem:!0,enable_scroll_modifier:"",type:"infinitescroll",append:function(a,b){this.execute("moreitems").success(function(){b(1,!0)})}},drop_list_options:{disabled:!0,type:"droplist",floater:"[data-id='floater']",bounding_box:function(a){var b=a.bottom-a.top+1,c=Math.floor(.2*b);return a.top+=c,a.bottom-=c,a},events:{dropped:function(a,b){var c=b.source.data,d=this.getCollection().getByIndex(b.index-1),e=this.getCollection().getByIndex(b.index);this.trigger("droplist-dropped",c,d,e)}}},loadmorebackwards:!1,loadmoresteps:undefined,"async-timeout":!1,loadmorestyle:"button"}},types:{scrolltolast:"boolean",scrolltofirst:"boolean",autoscroll:"boolean",stickybottom:"boolean","async-timeout":"int",droplist:"boolean"},create:function(){this.get("loadmore")&&"infinite"===this.get("loadmorestyle")&&this.setProp("infinite_scroll_options.disabled",!1),this.get("droplist")&&this.setProp("drop_list_options.disabled",!1),this.get("listcollection")&&this._setupListCollection()},events:{"change:listcollection":function(){this._setupListCollection()}},_setupListCollection:function(){var a="replaced-objects";this.get("autoscroll")&&(a+=" add"),Async.eventually(function(){this.destroyed()||this.getCollection()&&this.getCollection().on&&(this.get("scrolltolast")&&(this.listenOn(this.getCollection(),a,function(){this.execute("scrollToLast")},{eventually:!0,off_on_destroyed:!0}),this.execute("scrollToLast")),this.get("scrolltofirst")&&(this.listenOn(this.getCollection(),a,function(){this.execute("scrollToFirst")},{eventually:!0,off_on_destroyed:!0}),this.execute("scrollToFirst")),this.listenOn(this.getCollection(),"collection-updating",function(){this.set("loading",!0)}),this.listenOn(this.getCollection(),"collection-updated",function(){this.set("loading",!1)}),0===this.getCollection().count()&&this.get("async-timeout")&&(this.set("loading",!0),Async.eventually(function(){this.set("loading",!1)},this,this.get("async-timeout"))))},this)},_afterActivate:function(){this.get("stickybottom")&&Dom.containerStickyBottom(this.activeElement())},getCollection:function(){var a=this.get("listcollection");return a&&a.value?a.value():a},functions:{moreitems:function(){var a=Promise.create();return this.set("loading",!0),Async.eventually(function(){this.get("loadmore").increase_forwards(this.get("loadmoresteps")).callback(function(){a.asyncSuccess(!0),this.set("loading",!1)},this)},this),a},moreitemsbackwards:function(){var a=Promise.create();return this.set("loading",!0),Async.eventually(function(){this.get("loadmore").increase_backwards(this.get("loadmoresteps")).callback(function(){a.asyncSuccess(!0),this.set("loading",!1)},this)},this),a},getview:function(a){return this.getProp("view.listitem")||a.get("listitem")||(this.get("listitemfunc")?this.get("listitemfunc")(a):this.get("listitem"))},elementByItem:function(a){return a?this.activeElement().querySelector("[data-id='"+a.cid()+"']"):null},scrollTo:function(a){if(a){var b=this.execute("elementByItem",a);if(b){var c=this.activeElement();c.scrollTop=b.offsetTop-c.offsetTop}}},scrollToLast:function(){this.execute("scrollTo",this.getCollection().last())},scrollToFirst:function(){this.execute("scrollTo",this.getCollection().first())},isEqual:function(a,b){if(b){if(b===a)return!0;if(b.pid()===a.pid())return!0}return!1}}}).registerFunctions({"loadmorebackwards && loading":function(obj){with(obj)return loadmorebackwards&&loading},"(model.listcollection||listcollection)":function(obj){with(obj)return model.listcollection||listcollection},infinite_scroll_options:function(obj){with(obj)return infinite_scroll_options},drop_list_options:function(obj){with(obj)return drop_list_options},"getview(collectionitem)":function(obj){with(obj)return getview(collectionitem)},"!!collectionitem.experimental":function(obj){with(obj)return!!collectionitem.experimental},"collectionitem.cid()":function(obj){with(obj)return collectionitem.cid()},"collectionitem.pid()":function(obj){with(obj)return collectionitem.pid()},selection:function(obj){with(obj)return selection},droplist:function(obj){with(obj)return droplist},"collectionitem.callbacks":function(obj){with(obj)return collectionitem.callbacks},"isEqual(collectionitem, selected)":function(obj){with(obj)return isEqual(collectionitem,selected)},"[collectionitem]":function(obj){with(obj)return[collectionitem]},"collectionitem.view||view.listinner":function(obj){with(obj)return collectionitem.view||view.listinner},collectionitem:function(obj){with(obj)return collectionitem},"!!loadmore && loadmorestyle !== 'infinite'":function(obj){with(obj)return!!loadmore&&"infinite"!==loadmorestyle},"!loading":function(obj){with(obj)return!loading},loading:function(obj){with(obj)return loading}}).register()}),Scoped.define("module:Searchlist",["dynamics:Dynamic"],["dynamics:Partials.EventForwardPartial","module:List","module:Search","module:Loading","dynamics:Partials.NoScopePartial"],function(Dynamic,scoped){return Dynamic.extend({scoped:scoped},{template:'\n<ba-search\n        ba-searching="{{=searchingindication}}"\n        ba-value="{{=searchvalue}}"\n        ba-if="{{view.showsearch}}"\n        ba-view="{{view.searchview}}"\n        ba-event-forward\n></ba-search>\n\n<ba-list ba-noscope ba-event-forward></ba-list>\n',attrs:{searchvalue:"",searchingindication:!1,searching:!1,view:{showsearch:!0}},extendables:["view"],events:{"change:searchvalue":function(){this.set("searchingindication",!0)},"change:searching":function(){this.set("searchingindication",this.get("searching"))}},create:function(){this.on("change:searchvalue",function(){this.set("searching",!0)},this,{min_delay:750})}}).registerFunctions({searchingindication:function(obj){with(obj)return searchingindication},searchvalue:function(obj){with(obj)return searchvalue},"view.showsearch":function(obj){with(obj)return view.showsearch},"view.searchview":function(obj){with(obj)return view.searchview}}).register()}),Scoped.define("module:Titledlist",["dynamics:Dynamic"],["dynamics:Partials.EventForwardPartial","module:List","dynamics:Partials.NoScopePartial","dynamics:Partials.ClickPartial"],function(Dynamic,scoped){return Dynamic.extend({scoped:scoped},{template:'\n<ba-{{view.titleitem}}\n    ba-click="{{click_title()}}"\n    ba-event-forward:title="{{[]}}"\n    ba-model="{{model.title_model}}">{{model.title_model.value}}</ba-{{view.titleitem}}>\n\n<ba-list\n        ba-noscope\n        ba-event-forward="{{[]}}"\n        ba-show="{{!collapsed}}">\n\n</ba-list>\n',attrs:{model:{title_model:{value:"Titledlist - Title"}},selectable:!0,collapsed:!1,collapsible:!0,listitem:"selectableitem",titleitem:"title"},functions:{togglelist:function(){this.get("collapsible")&&this.set("collapsed",!this.get("collapsed"))},additem:function(a){a=a||{value:"Titledlist - New Item"};var b=this.get("listcollection").add(a);return this.get("listcollection").getByIndex(b).cid()},click_title:function(){this.call("togglelist")}}}).registerFunctions({"view.titleitem":function(obj){with(obj)return view.titleitem},"click_title()":function(obj){with(obj)return click_title()},"[]":function(obj){with(obj)return[]},"model.title_model":function(obj){with(obj)return model.title_model},"model.title_model.value":function(obj){with(obj)return model.title_model.value},"!collapsed":function(obj){with(obj)return!collapsed}}).register()}),Scoped.define("module:Addtitle",["dynamics:Dynamic"],function(Dynamic,scoped){return Dynamic.extend({scoped:scoped},{template:'\n<addtitle>\n    <title ba-click="{{clicktitle()}}">{{model.value}}</title>\n    <button ba-click="{{addbutton()}}">\n        <span class="icon-plus"></span>\n    </button>\n</addtitle>',attrs:{model:{value:"Title"}},functions:{clicktitle:function(){this.parent().call("togglelist")},addbutton:function(){this.trigger("add-button")}}}).registerFunctions({"clicktitle()":function(obj){with(obj)return clicktitle()},"model.value":function(obj){with(obj)return model.value},"addbutton()":function(obj){with(obj)return addbutton()}}).register()})}).call(Scoped);