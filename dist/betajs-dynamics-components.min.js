/*!
betajs-dynamics-components - v0.1.133 - 2020-11-10
Copyright (c) Victor Lingenthal,Oliver Friedmann
Apache-2.0 Software License.
*/

var Scoped=function(){var m=function(){return{get:function(e){return"undefined"!=typeof window?e?window[e]:window:"undefined"!=typeof global?e?global[e]:global:"undefined"!=typeof self?e?self[e]:self:undefined},set:function(e,t){return"undefined"!=typeof window&&(window[e]=t),"undefined"!=typeof global&&(global[e]=t),"undefined"!=typeof self&&(self[e]=t),t},getPath:function(e){if(!e)return this.get();var t=e.split(".");if(1==t.length)return this.get(e);for(var n=this.get(t[0]),o=1;o<t.length;++o){if(!n)return n;n=n[t[o]]}return n},setPath:function(e,t){var n=e.split(".");if(1==n.length)return this.set(e,t);for(var o=this.get(n[0])||this.set(n[0],{}),i=1;i<n.length-1;++i)n[i]in o||(o[n[i]]={}),o=o[n[i]];return o[n[n.length-1]]=t}}}.call(this),p=function(){return{method:function(e,t){return function(){return t.apply(e,arguments)}},extend:function(e,t){for(var n in e=e||{},t=t||{})e[n]=t[n];return e},typeOf:function(e){return"[object Array]"===Object.prototype.toString.call(e)?"array":typeof e},isEmpty:function(e){if(null==e)return!0;if("array"==this.typeOf(e))return 0===e.length;if("object"!=typeof e)return!1;for(var t in e)return!1;return!0},matchArgs:function(e,t){var n=0,o={};for(var i in t)!0===t[i]||this.typeOf(e[n])==t[i]?(o[i]=e[n],n++):"undefined"==this.typeOf(e[n])&&n++;return o},stringify:function(e){return"function"==this.typeOf(e)?""+e:JSON.stringify(e)}}}.call(this),r=function(){return{__namespace:"Scoped",__revert:null,upgrade:function(e){var t=m.get(e||r.__namespace);if(t&&"object"===p.typeOf(t)&&t.guid===this.guid&&"string"===p.typeOf(t.version)){if(!1===this.upgradable||!1===t.upgradable)return t;for(var n=this.version.split("."),o=t.version.split("."),i=!1,l=0;l<Math.min(n.length,o.length)&&(i=parseInt(n[l],10)>parseInt(o[l],10),n[l]===o[l]);++l);return i?this.attach(e):t}return this.attach(e)},attach:function(e){e&&(r.__namespace=e);var t=m.get(r.__namespace);if(t===this)return this;if(r.__revert=t)try{var n=t.__exportScoped();this.__exportBackup=this.__exportScoped(),this.__importScoped(n)}catch(o){}return m.set(r.__namespace,this),this},detach:function(e){return e&&m.set(r.__namespace,null),"undefined"!=typeof r.__revert&&m.set(r.__namespace,r.__revert),delete r.__revert,r.__exportBackup&&this.__importScoped(r.__exportBackup),this},exports:function(e,t,n){return"object"==typeof(e=e||("undefined"!=typeof module?module:null))&&e&&"exports"in e&&(n||e.exports===this||!e.exports||p.isEmpty(e.exports))&&(e.exports=t||this),this}}}.call(this);function f(e){var r={tree:"boolean"==typeof e.tree&&e.tree,global:"boolean"==typeof e.global&&e.global,root:"object"==typeof e.root?e.root:{}};function i(e){return{route:"string"==typeof e.route?e.route:null,parent:"object"==typeof e.parent?e.parent:null,ready:"boolean"==typeof e.ready&&e.ready,children:{},watchers:[],data:{},lazy:[]}}var a=i({ready:!0});if(r.tree)if(r.global){try{window&&(a.data=window)}catch(t){}try{global&&(a.data=global)}catch(t){}try{self&&(a.data=self)}catch(t){}}else a.data=r.root;function c(e){if(!e.ready)if(!e.parent||e.parent.ready){if(e.route&&e.parent&&e.route in e.parent.data){e.data=e.parent.data[e.route],e.ready=!0;for(var t=0;t<e.watchers.length;++t)e.watchers[t].callback.call(e.watchers[t].context||this,e.data);for(var n in e.watchers=[],e.children)c(e.children[n])}}else c(e.parent)}function l(e,t){if("object"==typeof t&&e.ready)for(var n in t)e.data[n]=t[n];else e.data=t;if("object"==typeof t)for(var o in t)e.children[o]&&(e.children[o].data=t[o]);for(var i in!function l(e){if(!e.ready){e.parent&&!e.parent.ready&&l(e.parent),e.ready=!0,e.parent&&r.tree&&"object"==typeof e.parent.data&&(e.parent.data[e.route]=e.data);for(var t=0;t<e.watchers.length;++t)e.watchers[t].callback.call(e.watchers[t].context||this,e.data);e.watchers=[]}}(e),e.children)c(e.children[i])}function s(e){if(!e)return a;for(var t=e.split("."),n=a,o=0;o<t.length;++o)t[o]in n.children?n=n.children[t[o]]:(n.children[t[o]]=i({parent:n,route:t[o]}),c(n=n.children[t[o]]));return n}return{extend:function(e,t){l(s(e),t)},set:function(e,t){var n=s(e);n.data&&!function o(e){if(e.ready&&e.data)for(var t in e.data)delete e.data[t]}(n),l(n,t)},get:function(e){var t=s(e);return t.ready?t.data:null},lazy:function(e,t,n){var o=s(e);o.ready?t(n||this,o.data):o.lazy.push({callback:t,context:n})},digest:function(e){c(s(e))},obtain:function(e,t,n){!function i(e,t,n){if(e.ready)t.call(n||this,e.data);else if(e.watchers.push({callback:t,context:n}),0<e.lazy.length){var o=function(e){if(0<e.lazy.length){var t=e.lazy.shift();t.callback.call(t.context||this,e.data),o(e)}};o(e)}}(s(e),t,n)},unresolvedWatchers:function(e){return function l(e,t,n){for(var o in n=n||[],!(e=e||a).ready&&0===e.lazy.length&&0<e.watchers.length&&n.push(t),e.children){var i=e.children[o];n=l(i,(t?t+".":"")+i.route,n)}return n}(s(e),e)},__export:function(){return{options:r,nsRoot:a}},__import:function(e){r=e.options,a=e.nsRoot}}}var t=f({tree:!0,global:!0}),n=f({tree:!0}),o=function b(e,t,n,o){var i=null,l=[],r=t,a=n,c=o,s=f({tree:!0}),d=f({tree:!1}),u={global:{namespace:c},root:{namespace:a},local:{namespace:s},"default":{namespace:d},parent:{namespace:r},scope:{namespace:s,readonly:!1}},h=function(l,r,a){var c=p.matchArgs(l,{options:"object",namespaceLocator:!0,dependencies:"array",hiddenDependencies:"array",callback:!0,context:"object"}),e=p.extend({lazy:this.options.lazy},c.options||{}),s=this.resolve(c.namespaceLocator),t=function(){this.require(c.dependencies,c.hiddenDependencies,function(){for(var e=[],t=0;t<arguments.length;++t)e.push(arguments[t]);if(e[e.length-1].ns=s,this.options.compile){for(var n=[],o=0;o<l.length;++o)n.push(p.stringify(l[o]));this.compiled+=this.options.ident+"."+r+"("+n.join(", ")+");\n\n"}this.options.dependencies&&(this.dependencies[s.path]=this.dependencies[s.path]||{},c.dependencies&&c.dependencies.forEach(function(e){this.dependencies[s.path][this.resolve(e).path]=!0},this),c.hiddenDependencies&&c.hiddenDependencies.forEach(function(e){this.dependencies[s.path][this.resolve(e).path]=!0},this));var i=this.options.compile?{}:c.callback.apply(c.context||this,e);a.call(this,s,i)},this)};return e.lazy?s.namespace.lazy(s.path,t,this):t.apply(this),this};return{getGlobal:p.method(m,m.getPath),setGlobal:p.method(m,m.setPath),options:{lazy:!1,ident:"Scoped",compile:!1,dependencies:!1},compiled:"",dependencies:{},nextScope:function(){return i=i||b(this,s,a,c)},subScope:function(){var e=this.nextScope();return l.push(e),i=null,e},binding:function(e,t,n){var o;return u[e]&&u[e].readonly||(o="string"!=p.typeOf(t)?{namespace:f({tree:!0,root:t}),path:null}:this.resolve(t),u[e]=p.extend(n,o)),this},resolve:function(e){var t=e.split(":");if(1==t.length)throw"The locator '"+t[0]+"' requires a namespace.";var n=u[t[0]];if(!n)throw"The namespace '"+t[0]+"' has not been defined (yet).";return{namespace:n.namespace,path:n.path&&t[1]?n.path+"."+t[1]:n.path||t[1]}},define:function(){return h.call(this,arguments,"define",function(e,t){if(e.namespace.get(e.path))throw"Scoped namespace "+e.path+" has already been defined. Use extend to extend an existing namespace instead";e.namespace.set(e.path,t)})},assumeVersion:function(){var l=p.matchArgs(arguments,{assumption:!0,dependencies:"array",callback:!0,context:"object",error:"string"}),e=l.dependencies||[];e.unshift(l.assumption),this.require(e,function(){var e=arguments,t=e[0].replace(/[^\d\.]/g,"");e[0]=t.split(".");for(var n=0;n<e[0].length;++n)e[0][n]=parseInt(e[0][n],10);if("function"===p.typeOf(l.callback)){if(!l.callback.apply(l.context||this,l))throw"Scoped Assumption '"+l.assumption+"' failed, value is "+t+(l.error?", but assuming "+l.error:"")}else for(var o=(l.callback+"").replace(/[^\d\.]/g,"").split("."),i=0;i<Math.min(e[0].length,o.length);++i)if(parseInt(o[i],10)>e[0][i])throw"Scoped Version Assumption '"+l.assumption+"' failed, value is "+t+", but assuming at least "+l.callback})},extend:function(){return h.call(this,arguments,"extend",function(e,t){e.namespace.extend(e.path,t)})},require:function(){var t=p.matchArgs(arguments,{dependencies:"array",hiddenDependencies:"array",callback:"function",context:"object"});t.callback=t.callback||function(){};var e=t.dependencies||[],n=e.concat(t.hiddenDependencies||[]),o=n.length,i=[],l={};if(o)for(var r=function(e){this.i<i.length&&(i[this.i]=e),0==--o&&(i.push(l),t.callback.apply(t.context||this.ctx,i))},a=0;a<n.length;++a){var c=this.resolve(n[a]);a<e.length&&i.push(null),c.namespace.obtain(c.path,r,{ctx:this,i:a})}else i.push(l),t.callback.apply(t.context||this,i);return this},digest:function(e){var t=this.resolve(e);return t.namespace.digest(t.path),this},unresolved:function(e){var t=this.resolve(e);return t.namespace.unresolvedWatchers(t.path)},__export:function(){return{parentNamespace:r.__export(),rootNamespace:a.__export(),globalNamespace:c.__export(),localNamespace:s.__export(),privateNamespace:d.__export()}},__import:function(e){r.__import(e.parentNamespace),a.__import(e.rootNamespace),c.__import(e.globalNamespace),s.__import(e.localNamespace),d.__import(e.privateNamespace)}}}(0,n,n,t),e=p.extend(o,function(){return{guid:"4b6878ee-cb6a-46b3-94ac-27d91f58d666",version:"0.0.22",upgradable:!0,upgrade:r.upgrade,attach:r.attach,detach:r.detach,exports:r.exports,__exportScoped:function(){return{globalNamespace:t.__export(),rootNamespace:n.__export(),rootScope:o.__export()}},__importScoped:function(e){t.__import(e.globalNamespace),n.__import(e.rootNamespace),o.__import(e.rootScope)}}}.call(this));return(e=e.upgrade()).exports(),e}.call(this);(function(){var Scoped=this.subScope();Scoped.binding("module","global:BetaJS.Dynamics.Components"),Scoped.binding("base","global:BetaJS"),Scoped.binding("browser","global:BetaJS.Browser"),Scoped.binding("dynamics","global:BetaJS.Dynamics"),Scoped.binding("ui","global:BetaJS.UI"),Scoped.define("module:",function(){return{guid:"ced27948-1e6f-490d-b6c1-548d39e8cd8d",version:"0.1.133",datetime:1605025769047}}),Scoped.assumeVersion("base:version","~1.0.96"),Scoped.assumeVersion("browser:version","~1.0.65"),Scoped.assumeVersion("dynamics:version","~0.0.83"),Scoped.assumeVersion("ui:version","~1.0.37"),Scoped.define("module:Dropdown",["dynamics:Dynamic","base:Properties.Properties"],["dynamics:Partials.EventForwardPartial","dynamics:Partials.EventPartial","dynamics:Partials.TapPartial","module:List"],function(Dynamic,Properties,scoped){return Dynamic.extend({scoped:scoped},{template:'<button\n        onblur="{{this.execute(\'blur\')}}"\n        ba-tap="{{click()}}"\n        class="{{showdropdown ? \'icon-angle-up\' : view.icon}}">\n    <dropdown ba-show="{{showdropdown}}">\n        <description ba-if="{{view.description}}">\n            {{view.description}}\n        </description>\n        <ba-{{view.dropdown}}\n            ba-view.listitem="{{view.listitem}}"\n            ba-event:item-click="hide_dropdown"\n            ba-event:hide-dropdown="hide_dropdown"\n            ba-event-forward:dropdown\n            ba-event-forward\n            ba-model=\'{{dropdownmodel}}\'\n            ba-listcollection=\'{{dropdownmodel}}\'\n        ></ba-{{view.dropdown}}>\n    </dropdown>\n</button>\n',attrs:function(){return{view:{description:null,dropdown:"list",icon:"icon-more_vert",useremove:!0},dropdownmodel:{},value:null,showdropdown:!1}},extendables:["view"],functions:{click:function(){!1===this.get("showdropdown")?(this.set("showdropdown",!0),this.element()[0].focus()):this.set("showdropdown",!1)},blur:function(){1==window.getComputedStyle(this.element()[0]).getPropertyValue("opacity")&&this.execute("hide_dropdown")},hide_dropdown:function(){this.set("showdropdown",!1)}}}).registerFunctions({"this.execute('blur')":function(obj){with(obj)return this.execute("blur")},"click()":function(obj){with(obj)return click()},"showdropdown ? 'icon-angle-up' : view.icon":function(obj){with(obj)return showdropdown?"icon-angle-up":view.icon},showdropdown:function(obj){with(obj)return showdropdown},"view.description":function(obj){with(obj)return view.description},"view.dropdown":function(obj){with(obj)return view.dropdown},"view.listitem":function(obj){with(obj)return view.listitem},dropdownmodel:function(obj){with(obj)return dropdownmodel}}).register()}),Scoped.define("module:Dropdownselect",["dynamics:Dynamic","base:Properties.Properties"],["dynamics:Partials.EventForwardPartial","dynamics:Partials.EventPartial","dynamics:Partials.TapPartial","module:List","module:Clickitem"],function(Dynamic,Properties,scoped){return Dynamic.extend({scoped:scoped},{template:'<button\n        onblur="{{this.execute(\'blur\')}}"\n        ba-tap="{{click()}}"\n        class="{{model.icon || view.icon}}"\n        style="color: {{model.icon_color}}; background: {{model.background}}" >\n    <dropdownselect ba-show="{{showdropdown}}">\n        <description ba-if="{{view.description}}">\n            {{view.description}}\n        </description>\n        <ba-clickitem\n                ba-model="{{addmodel}}"\n                ba-if="{{view.useradd}}"\n                ba-event:click="add_model"\n                ba-event-forward:dropdownselect="{{[]}}"\n        ></ba-clickitem>\n        <ba-{{view.dropdown}}\n            ba-view.listitem="{{view.listitem}}"\n            ba-event:item-click="hide_dropdown"\n            ba-event-forward:dropdownselect="{{[]}}"\n            ba-model=\'{{dropdownmodel}}\'\n            ba-listcollection=\'{{dropdownmodel}}\'\n\n        ></ba-{{view.dropdown}}>\n        <ba-clickitem\n                ba-model="{{removemodel}}"\n                ba-if="{{view.useremove}}"\n                ba-event:click="remove_selected"\n                ba-event-forward:dropdownselect="{{[]}}"\n        ></ba-clickitem>\n    </dropdownselect>\n</button>\n',attrs:function(){return{view:{description:null,dropdown:"list",icon:"icon-more_vert",color:null,background:null,useremove:!0,useradd:!0},model:new Properties({icon:"icon-more_vert",color:null,background:null}),addmodel:new Properties({icon:"icon-plus",background:"white",value:"New Group"}),removemodel:new Properties({icon:"icon-remove",background:"white",value:"None"}),dropdownmodel:{},value:null,showdropdown:!1}},create:function(){this.get("model")||this.set("model",this.get("view"))},extendables:["view"],functions:{click:function(){!1===this.get("showdropdown")?(this.set("showdropdown",!0),this.element()[0].focus()):this.set("showdropdown",!1)},blur:function(){1==window.getComputedStyle(this.element()[0]).getPropertyValue("opacity")&&this.execute("hide_dropdown")},hide_dropdown:function(){this.set("showdropdown",!1)},add_model:function(){this.trigger("add-model"),this.execute("hide_dropdown")},remove_selected:function(){this.set("model",this.get("view")),this.execute("hide_dropdown")}}}).registerFunctions({"this.execute('blur')":function(obj){with(obj)return this.execute("blur")},"click()":function(obj){with(obj)return click()},"model.icon || view.icon":function(obj){with(obj)return model.icon||view.icon},"model.icon_color":function(obj){with(obj)return model.icon_color},"model.background":function(obj){with(obj)return model.background},showdropdown:function(obj){with(obj)return showdropdown},"view.description":function(obj){with(obj)return view.description},addmodel:function(obj){with(obj)return addmodel},"view.useradd":function(obj){with(obj)return view.useradd},"[]":function(obj){with(obj)return[]},"view.dropdown":function(obj){with(obj)return view.dropdown},"view.listitem":function(obj){with(obj)return view.listitem},dropdownmodel:function(obj){with(obj)return dropdownmodel},removemodel:function(obj){with(obj)return removemodel},"view.useremove":function(obj){with(obj)return view.useremove}}).register()}),Scoped.define("module:Htmlview",["dynamics:Dynamic","base:Async","browser:Loader","browser:Dom","ui:Interactions.Pinch"],function(e,t,n,r,i,o){return e.extend({scoped:o},{template:"<iframe frameBorder='0' scrolling='no'></iframe>",attrs:{html:"",loadhtml:"",fakezoom:!1},types:{fakezoom:"boolean"},events:{"change:html":function(){this.activated()&&this._updateIFrame()},"change:loadhtml":function(){this._loadHtml()}},_loadHtml:function(){this.get("loadhtml")&&n.loadHtml(this.get("loadhtml"),function(e){this.set("html",e)},this)},_cleanupContent:function(e){for(var t=r.elementByTemplate("<div>"+e+"</div>"),n=t.querySelectorAll("script"),o=0;o<n.length;++o)n[o].parentNode.removeChild(n[o]);for(var i=t.querySelectorAll("iframe"),l=0;l<i.length;++l)i[l].parentNode.removeChild(i[l]);return t},create:function(){var e=function(){t.eventually(function(){this.destroyed()||(this._updateSize(),this._timeout*=2,e.call(this))},this,this._timeout)};e.call(this),this._loadHtml()},_iframe:function(){return this.activeElement().querySelector("iframe")},_iframeHtml:function(){return this._iframe().contentDocument.querySelector("html")},_iframeBody:function(){return this._iframe().contentDocument.querySelector("body")},_afterActivate:function(){this._updateIFrame(),t.eventually(function(){if(!this.destroyed()&&this.get("fakezoom")){var n=100,o=this._iframe(),e=this._iframeBody();this.auto_destroy(new i(e,{enabled:!0})).on("pinch",function(e){var t=e.delta_last.x;n+=t/5,o.style.zoom=n+"%"})}},this,1e3)},_updateIFrame:function(){this._iframeHtml().innerHTML=this._cleanupContent(this.get("html")).innerHTML,this._updateSize(),this._timeout=100},_updateSize:function(){var e=this.activeElement().querySelector("iframe"),t=e.contentDocument.querySelector("html")||e.contentDocument.querySelector("body"),n=t.scrollWidth,o=t.scrollHeight;if(!e.contentDocument.querySelector("body")){o=1;for(var i=e.contentDocument.querySelector("html"),l=0;l<i.length;++l){var r=i[l].tagName.toLowerCase();if("style"===r||"script"===r||"head"===r)return;o=Math.max(o,i[l].innerHeight+i[l].offsetTop)}}var a=e.clientWidth/n;Math.abs(o-e.clientHeight)<2||(t.style.MozTransform="scale("+a+")",t.style.zoom=100*a+"%",e.style.width=e.parentNode.offsetWidth+"px",e.style.height=Math.ceil(o*a+10)+"px")}}).registerFunctions({}).register()}),Scoped.define("module:Clickinput",["dynamics:Dynamic"],function(Dynamic,scoped){return Dynamic.extend({scoped:scoped},{template:'\n<title\n        ba-if="{{!view.edit && !view.externaledit}}"\n        ba-click="{{edititem()}}"\n>{{model.value}}</title>\n\n<input\n        placeholder="{{view.placeholder || \'\'}}"\n        ba-if="{{view.edit || view.externaledit}}"\n        ba-return="{{view.edit = false}}"\n        onblur="{{view.edit = false}}"\n        value="{{=model.value}}" />\n',attrs:function(){return{model:{value:"Test"},view:{placeholder:"",edit:!1,autofocus:!0,externaledit:!1}}},extendables:["view"],functions:{edititem:function(){if(this.trigger("edititem"),this.getProp("view.externaledit")){this.setProp("view.edit",!0);var e=this.activeElement().querySelector("input"),t=this.getProp("model.value").length;e.focus(),e.setSelectionRange(t,t)}}}}).registerFunctions({"!view.edit && !view.externaledit":function(obj){with(obj)return!view.edit&&!view.externaledit},"edititem()":function(obj){with(obj)return edititem()},"model.value":function(obj){with(obj)return model.value},"view.placeholder || ''":function(obj){with(obj)return view.placeholder||""},"view.edit || view.externaledit":function(obj){with(obj)return view.edit||view.externaledit},"view.edit = false":function(obj){with(obj)return view.edit=!1}}).register()}),Scoped.define("module:Input",["dynamics:Dynamic"],["dynamics:Partials.OnPartial"],function(Dynamic,scoped){return Dynamic.extend({scoped:scoped},{template:'<input\n        value="{{value}}"\n        ba-on:keydown="{{keydown(event)}}"\n        placeholder="{{view.placeholder || \'\'}}"\n        autofocus />',attrs:{value:"",view:{placeholder:"",autofocus:!0}},functions:{blur:function(){this.trigger("blur"),this.element()[0].blur()},keydown:function(e){"Enter"!==e.code||e.shiftKey||(this.execute("blur"),e.preventDefault())}}}).registerFunctions({value:function(obj){with(obj)return value},"keydown(event)":function(obj){with(obj)return keydown(event)},"view.placeholder || ''":function(obj){with(obj)return view.placeholder||""}}).register()}),Scoped.define("module:Scrollpicker",["dynamics:Dynamic","ui:Interactions.Loopscroll","base:Async"],["dynamics:Partials.RepeatElementPartial"],function(Dynamic,Loopscroll,Async,scoped){return Dynamic.extend({scoped:scoped},{template:'<container ba-interaction:loopscroll="{{loopscroll}}">\n        <element ba-repeat-element="{{value :: values}}" data-value="{{value}}">\n                {{value}}\n        </element>\n</container>\n<scrolloverlay ba-class="{{{\n                  valuetop : top\n               }}}">\n        <pickeroverlay></pickeroverlay>\n        <valueoverlay></valueoverlay>\n</scrolloverlay>',proxyAttrs:!0,attrs:{first:0,last:23,atleast:100,increment:1,top:!1,value:10,valueadd:0},types:{first:"int",last:"int",increment:"int",top:"bool",value:"int",valueadd:"int"},events:{"change:value":function(e){this.activeElement()&&this.activeElement().querySelector("container")&&(this.__ignoreValue||this._loopScroll().scrollToElement(this.getElementByValue(this.attrs.value)))}},create:function(){for(var e=[],t=this.attrs.first<=this.attrs.last?1:-1;e.length<this.attrs.atleast;)for(var n=this.attrs.first;0<=t*(this.attrs.last-n);n+=t*this.attrs.increment)e.push(n);this.set("values",e),this.set("loopscroll",{type:"loopscroll",enabled:!0,currentTop:this.attrs.top,discrete:!0,scrollEndTimeout:200,elementMargin:0,currentCenter:!0,currentElementClass:"selected",discreteUpperThreshold:.99,discreteLowerThreshold:.01,scrollToOnClick:!0})},_loopScroll:function(){var e=this.activeElement().querySelector("container").dynnodehandler.interactions;if(e)return e.loopscroll},_encodeValue:function(e){e+=this.attrs.valueadd;var t=this.attrs.first-e;return t=Math.round(t/this.attrs.increment)*this.attrs.increment,e=this.attrs.first-t,e=this.attrs.first<=this.attrs.last?Math.max(this.attrs.first,Math.min(this.attrs.last,e)):Math.max(this.attrs.last,Math.min(this.attrs.first,e))},_decodeValue:function(e){return e-this.attrs.valueadd},getElementByValue:function(e){return this.activeElement().querySelector("[data-value='"+this._encodeValue(e)+"']")},getValueByElement:function(e){return this._decodeValue(parseInt(e.dataset.value,10))},_afterActivate:function(e){this.activeElement().querySelector("[ba-repeat-element]").remove(),Async.eventually(function(){this._loopScroll().scrollToElement(this.getElementByValue(this.attrs.value)),this._loopScroll().on("change-current-element",function(e){this.__ignoreValue=!0,this.attrs.value=this.getValueByElement(e),this.__ignoreValue=!1},this)},this)}}).registerFunctions({loopscroll:function(obj){with(obj)return loopscroll},values:function(obj){with(obj)return values},value:function(obj){with(obj)return value},"{\n                  valuetop : top\n               }":function(obj){with(obj)return{valuetop:top}}}).register()}),Scoped.define("module:Search",["dynamics:Dynamic"],["module:Loading","module:Dropdown"],function(Dynamic,scoped){return Dynamic.extend({scoped:scoped},{template:'\n<icon\n        ba-if="{{!searching}}"\n        class="icon-search"\n></icon>\n\n<ba-loading ba-if="{{searching}}"></ba-loading>\n\n<div>\n    <input\n            onfocus="{{this.execute(\'onfocus\')}}"\n            onblur="{{this.execute(\'onblur\')}}"\n            placeholder="{{view.placeholder || \'\'}}"\n            value="{{=value}}"\n    />\n    <span\n            class="icon-remove"\n            ba-if="{{value}}"\n            ba-tap="{{clearsearch()}}"\n    ></span>\n</div>\n\n<ba-{{view.searchbuttons}}\n        ba-if="{{nosearch}}"\n        ba-event-forward\n></ba-{{view.searchbuttons}}>\n\n<ba-dropdown\n        ba-if="{{view.filter_visible}}"\n        ba-event:~dropdown-item-click="searchdropdown-click"\n        ba-view.icon="icon-filter"\n        ba-dropdownmodel="{{view.dropdownmodel}}"\n></ba-dropdown>\n',attrs:{value:"",loading:!1,nosearch:!0,view:{placeholder:"Placeholder",autofocus:!0,filter_visible:!1,searchbuttons:null}},extendables:["view"],events:{"change:value":function(e){this.set("loading",!!e)}},functions:{onfocus:function(){this.set("nosearch",!1)},onblur:function(){this.set("nosearch",!0)},clearsearch:function(){this.set("value","")}}}).registerFunctions({"!searching":function(obj){with(obj)return!searching},searching:function(obj){with(obj)return searching},"this.execute('onfocus')":function(obj){with(obj)return this.execute("onfocus")},"this.execute('onblur')":function(obj){with(obj)return this.execute("onblur")},"view.placeholder || ''":function(obj){with(obj)return view.placeholder||""},value:function(obj){with(obj)return value},"clearsearch()":function(obj){with(obj)return clearsearch()},"view.searchbuttons":function(obj){with(obj)return view.searchbuttons},nosearch:function(obj){with(obj)return nosearch},"view.filter_visible":function(obj){with(obj)return view.filter_visible},"view.dropdownmodel":function(obj){with(obj)return view.dropdownmodel}}).register()}),Scoped.define("module:Swipepicker",["dynamics:Dynamic","ui:Interactions.Loopscroll","base:Async"],["dynamics:Partials.RepeatElementPartial"],function(Dynamic,Loopscroll,Async,scoped){return Dynamic.extend({scoped:scoped},{template:'\n<container ba-interaction:loopscroll="{{loopscroll}}">\n        <element ba-repeat-element="{{value :: values}}" data-value="{{value}}">\n                {{value}}\n        </element>\n</container>\n<scrolloverlay ba-class="{{{\n                  valuetop : top\n               }}}">\n        <pickeroverlay></pickeroverlay>\n        <valueoverlay></valueoverlay>\n</scrolloverlay>\n',attrs:{first:0,last:23,atleast:100,increment:1,top:!1,value:10,valueadd:0},types:{first:"int",last:"int",increment:"int",top:"bool",value:"int",valueadd:"int"},events:{"change:value":function(e){this.activeElement()&&this.activeElement().querySelector("container")&&(this.__ignoreValue||this._loopScroll().scrollToElement(this.getElementByValue(this.get("value"))))}},create:function(){for(var e=[],t=this.get("first")<=this.get("last")?1:-1;e.length<this.get("atleast");)for(var n=this.get("first");0<=t*(this.get("last")-n);n+=t*this.get("increment"))e.push(n);this.set("values",e),this.set("loopscroll",{type:"loopscroll",enabled:!0,currentTop:this.get("top"),discrete:!0,scrollEndTimeout:200,elementMargin:0,currentCenter:!0,currentElementClass:"selected",discreteUpperThreshold:.99,discreteLowerThreshold:.01,scrollToOnClick:!0})},_loopScroll:function(){var e=this.activeElement().querySelector("container").dynnodehandler.interactions;if(e)return e.loopscroll},_encodeValue:function(e){e+=this.get("valueadd");var t=this.get("first")-e;return t=Math.round(t/this.get("increment"))*this.get("increment"),e=this.get("first")-t,e=this.get("first")<=this.get("last")?Math.max(this.get("first"),Math.min(this.get("last"),e)):Math.max(this.get("last"),Math.min(this.get("first"),e))},_decodeValue:function(e){return e-this.get("valueadd")},getElementByValue:function(e){return this.activeElement().querySelector("[data-value='"+this._encodeValue(e)+"']")},getValueByElement:function(e){return this._decodeValue(parseInt(e.dataset.value,10))},_afterActivate:function(e){this.activeElement().querySelector("[ba-repeat-element]").remove(),Async.eventually(function(){this._loopScroll().scrollToElement(this.getElementByValue(this.get("value"))),this._loopScroll().on("change-current-element",function(e){this.__ignoreValue=!0,this.set("value",this.getValueByElement(e)),this.__ignoreValue=!1},this)},this)}}).registerFunctions({loopscroll:function(obj){with(obj)return loopscroll},values:function(obj){with(obj)return values},value:function(obj){with(obj)return value},"{\n                  valuetop : top\n               }":function(obj){with(obj)return{valuetop:top}}}).register()}),Scoped.define("module:Textinput",["dynamics:Dynamic","base:Async","base:Strings"],["dynamics:Partials.OnPartial"],function(Dynamic,Async,Strings,scoped){return Dynamic.extend({scoped:scoped},{template:'<placeholder\n        ba-if="{{view.placeholder_visible && !value}}"\n>{{view.placeholder}}</placeholder>\n\n\n\n\n<textarea\n        onfocus="{{this.execute(\'onfocus\')}}"\n        onfocusout="{{this.execute(\'onblur\')}}"\n        value="{{=value}}"\n></textarea>\n<pre>{{=preheighttext}}</pre>\n',attrs:{value:null,height:0,view:{placeholder:"",placeholder_visible:!0,autofocus:!0}},extendables:["view"],computed:{"preheighttext:value":function(){var e=this.get("value");return e+(Strings.ends_with(e||"","\n")?" ":"")}},windowevents:{touchstart:function(e){"TEXTAREA"==document.activeElement.nodeName&&"TEXTAREA"==e.target.nodeName||"INPUT"==e.target.nodeName||this.execute("blur")}},functions:{caretPos:function(e){if(!e)return this.activeElement().querySelector("textarea").selectionStart;this.activeElement().querySelector("textarea").selectionStart=e},focus_textarea:function(){"TEXTAREA"==document.activeElement.nodeName?console.log("Textinput - focus_textarea() - Textarea already focused"):this.element()[1].select()},blur:function(){this.element()[1].blur()},onblur:function(){this.trigger("onblur")},onfocus:function(){this.trigger("onfocus")}}}).registerFunctions({"view.placeholder_visible && !value":function(obj){with(obj)return view.placeholder_visible&&!value},"view.placeholder":function(obj){with(obj)return view.placeholder},"this.execute('onfocus')":function(obj){with(obj)return this.execute("onfocus")},"this.execute('onblur')":function(obj){with(obj)return this.execute("onblur")},value:function(obj){with(obj)return value},preheighttext:function(obj){with(obj)return preheighttext}}).register()}),Scoped.define("module:Externaloverlaycontainer",["module:Overlaycontainer"],function(e,t){return e.extend({scoped:t},function(i){return{constructor:function(e){var t=document.createElement("baoverlaycontainer"),n=document.getElementsByTagName(e.anchor)[0].children;if(n)for(var o=0;o<n.length;o++)if("baoverlaycontainer"==n[o].tagName.toLowerCase())return;document.querySelector(e.anchor).appendChild(t),delete e.anchor,e.element=t,i.constructor.call(this,e),this.on("hide_overlay",function(){this.destroy(),t.remove()},this)}}})}),Scoped.define("module:Overlaycontainer",["dynamics:Dynamic","base:Objs"],["dynamics:Partials.TapPartial"],function(Dynamic,Objs,scoped){return Dynamic.extend({scoped:scoped},{template:'<overlaycontainer\n    ba-click="{{check_split()}}"\n    ba-if="{{showoverlay}}"\n    ba-class="{{{\n                normal : !view.fullpage,\n                fullpage : view.fullpage,\n                overlaysplit: view.overlaysplit,\n                nosplit: !view.overlaysplit\n            }}}">\n\n    <overlaysplit ba-if="{{view.overlaysplit}}">\n        <top ba-click="{{hide_overlay()}}"\n                 style="height: {{view.offsetTop}}px"></top>\n        <ba-{{view.splitinsert}}\n            ba-if={{view.splitinsert}}\n            ba-model={{model}}\n        ></ba-{{view.splitinsert}}>\n        <split style="height: {{view.offsetHeight}}px"></split>\n        <bottom ba-click="{{hide_overlay()}}"\n                    ba-if="{{view.offsetHeight}}"></bottom>\n    </overlaysplit>\n\n    <overlayinner\n            ba-click=""\n            ba-if="{{view.overlay || model.message}}"\n            style="{{=view.externalstyle}}">\n\n        <ba-{{view.overlay}}\n            ba-event-forward\n            ba-event:hide-overlay=\'hide_overlay\'\n            ba-noscope>\n        \n            <message ba-if="{{model.message}}">{{model.message}}</message>\n        </ba-{{view.overlay}}>\n\n    </overlayinner>\n\n</overlaycontainer>',attrs:function(){return{view:{insertsubview:!1,overlay:"",fullpage:!1,overlaysplit:!1,externalstyle:""},model:{message:"This is a message"},value:null,showoverlay:!0}},events:{"hide-overlay":function(){this.execute("hide_overlay")}},extendables:["view"],create:function(){this.set("view",Objs.tree_extend(this.attrs().view,this.get("view")))},functions:{check_split:function(){this.getProp("view.overlaysplit")||this.execute("hide_overlay")},hide_overlay:function(){this.set("showoverlay",!1),this.trigger("hide_overlay")}}}).registerFunctions({"check_split()":function(obj){with(obj)return check_split()},showoverlay:function(obj){with(obj)return showoverlay},"{\n                normal : !view.fullpage,\n                fullpage : view.fullpage,\n                overlaysplit: view.overlaysplit,\n                nosplit: !view.overlaysplit\n            }":function(obj){with(obj)return{normal:!view.fullpage,fullpage:view.fullpage,overlaysplit:view.overlaysplit,nosplit:!view.overlaysplit}},"view.overlaysplit":function(obj){with(obj)return view.overlaysplit},"hide_overlay()":function(obj){with(obj)return hide_overlay()},"view.offsetTop":function(obj){with(obj)return view.offsetTop},"view.splitinsert":function(obj){with(obj)return view.splitinsert},model:function(obj){with(obj)return model},"view.offsetHeight":function(obj){with(obj)return view.offsetHeight},"view.overlay || model.message":function(obj){with(obj)return view.overlay||model.message},"view.externalstyle":function(obj){with(obj)return view.externalstyle},"view.overlay":function(obj){with(obj)return view.overlay},"model.message":function(obj){with(obj)return model.message}}).register()}),Scoped.define("module:Jsconsole",["dynamics:Dynamic","base:Functions"],["dynamics:Partials.RepeatPartial","dynamics:Partials.ReturnPartial"],function(Dynamic,Functions,scoped){return Dynamic.extend({scoped:scoped},{template:'<console-output ba-repeat="{{log::logs}}">\n    <p style="color:{{log.color}}">{{log.text}}</p>\n</console-output>\n<console-input>\n    <input value="{{=command}}" ba-return="{{run_command()}}" />\n</console-input>',collections:["logs"],create:function(){this.set("command","");var e=console.log,t=this.get("logs");console.log=function(){return t.add({color:"gray",text:Functions.getArguments(arguments).join(" ")}),e.apply(this,arguments)}},functions:{run_command:function(){var e=this.get("logs");e.add({color:"black",text:this.get("command")});var t=window.eval(this.get("command"));e.add({color:"blue",text:t}),this.set("command","")}}}).registerFunctions({logs:function(obj){with(obj)return logs},"log.color":function(obj){with(obj)return log.color},"log.text":function(obj){with(obj)return log.text},command:function(obj){with(obj)return command},"run_command()":function(obj){with(obj)return run_command()}}).register()}),Scoped.define("module:Clickcontainer",["dynamics:Dynamic"],function(e,t){return e.extend({scoped:t},{template:'\n<clickcontainer\n        ba-click="click()">\n<ba-{{view.inner}}\n    ba-noscope></ba-{{view.inner}}>\n</clickcontainer>\n\n',attrs:{view:{inner:"eventitem"}},functions:{click:function(){this.trigger("clickcontainerclick",this.get("model"))}}}).register()}),Scoped.define("module:Multiselectcontainer",["dynamics:Dynamic"],function(e,t){return e.extend({scoped:t},{template:'\n<multiselectcontainer ba-click="click()">\n    <selecticon ba-class="{{{\n        \'icon-radio_button_unchecked\' : !selected,\n        \'icon-lens\' : selected\n    }}}"></selecticon>\n    <ba-{{view.inner}}\n        class="container"\n        ba-noscope\n    ></ba-{{view.inner}}>\n</multiselectcontainer>\n\n',attrs:{selected:!1,view:{inner:"eventitem"}},functions:{click:function(){this.flipProp("selected"),this.trigger("multiselect")}}}).register()}),Scoped.define("module:Positioncontainer",["dynamics:Dynamic","base:Time","browser:Dom","browser:Info"],["ui:Dynamics.GesturePartial","ui:Dynamics.InteractionPartial","ui:Interactions.Drag","ui:Interactions.Drop"],function(e,o,t,n,i){return e.extend({scoped:i},{template:'\n<positioncontainer\n        style="top: {{top}}%"\n        ba-gesture:click="{{{data: model, options: click_gesture}}}"\n        ba-gesture:drag="{{drag_gesture}}"\n        ba-interaction:drag="{{{data: model, options: drag_interaction}}}"\n        ba-interaction:drop="{{{data: model, options: drop_interaction}}}"\n>\n\n    <ba-{{view.inner}}\n        ba-noscope\n    ></ba-{{view.inner}}>\n\n</positioncontainer>\n\n',attrs:{view:{inner:"eventitem"},dragMouseOffset:null,dragY:0,top:20,listPos:{top:0,height:0},click_gesture:{mouse_up_activate:!0,up_event_allow_propagation:n.isMobile(),wait_time:250,wait_activate:!1,disable_x:10,disable_y:10,enable_x:-1,enable_y:-1,activate_event:"click"},drag_gesture:{mouse_up_activate:!1,up_event_allow_propagation:n.isMobile(),wait_time:250,wait_activate:!0,disable_x:10,disable_y:10,enable_x:-1,enable_y:-1,interaction:"drag"},drag_interaction:{droppable:!0,type:"drag",clone_element:!1,start_event:null,no_animation:!0,events:{move:function(e,t){this.set("dragYPercent",this._coordToPercent(t)),t.actionable_modifier.csscls("focus",!0),t.modifier.csscls("unfocus",!0)},release:function(e,t){this.set("top",this._coordToPercent(t)),this.set("dragMouseOffset",null),this.trigger("release",this._coordToPercent(t))}}},drop_interaction:{enabled:!0,type:"drop",events:{dropped:function(e,t){this.execute("dropped",t.source.data)}}},lefticon:"icon-ok",righticon:"icon-time"},create:function(){this._setinitialTop()},_afterActivate:function(){this._getListPos()},_setinitialTop:function(){var e=o.decodeTime(this.getProp("model.start_date_utc")),t=e.hour+e.minute/60,n=t<5?0:(t-5)/19*100;this.set("top",n)},_getListPos:function(){var e=this.parent().activeElement().getBoundingClientRect();this.set("listPos",{top:e.top,height:e.height})},_coordToPercent:function(e){var t=this.getProp("listPos.height"),n=this.getProp("listPos.top"),o=e.page_coords.y-n;if(!this.get("dragMouseOffset")){var i=this.activeElement().getElementsByTagName("positioncontainer")[0].offsetTop;this.set("dragMouseOffset",o-i)}if(!(o<0||t<o))return newPos=(o-this.get("dragMouseOffset"))/t*100;console.log("Positioncontainer: Outside Range")}}).register()}),Scoped.define("module:Removableclickcontainer",["dynamics:Dynamic"],function(e,t){return e.extend({scoped:t},{template:'\n<removableclickcontainer>\n\n    <ba-{{view.inner}}\n        class="inner"\n        ba-noscope\n        ba-click="click()"\n    ></ba-{{view.inner}}>\n\n    <icon ba-show="{{!itemcontext || !itemcontext.readonly}}"\n            class="{{view.removeicon}}"\n            ba-click="removed()"\n    ></icon>\n\n</removableclickcontainer>\n\n',attrs:{view:{inner:"eventitem",removeicon:"icon-remove"}},extendables:["view"],functions:{click:function(){this.trigger("click",this.get("model"))},removed:function(){this.trigger("removed",this.get("model"))}}}).register()}),Scoped.define("module:Loading",["dynamics:Dynamic"],function(e,t){return e.extend({scoped:t},{template:'\n<div class="sk-circle">\n    <div class="sk-circle1 sk-child"></div>\n    <div class="sk-circle2 sk-child"></div>\n    <div class="sk-circle3 sk-child"></div>\n    <div class="sk-circle4 sk-child"></div>\n    <div class="sk-circle5 sk-child"></div>\n    <div class="sk-circle6 sk-child"></div>\n    <div class="sk-circle7 sk-child"></div>\n    <div class="sk-circle8 sk-child"></div>\n    <div class="sk-circle9 sk-child"></div>\n    <div class="sk-circle10 sk-child"></div>\n    <div class="sk-circle11 sk-child"></div>\n    <div class="sk-circle12 sk-child"></div>\n</div>\n'}).registerFunctions({}).register()}),Scoped.define("module:Loadmore",["dynamics:Dynamic"],function(Dynamic,scoped){return Dynamic.extend({scoped:scoped},{template:'\n<loadmore ba-click="{{load_more()}}">\n\n    <button class="icon-ellipsis"></button>\n\n</loadmore>',attrs:{view:{value:"Placeholder"}},functions:{load_more:function(){this.chainedTrigger("loadmore",this)}}}).registerFunctions({"load_more()":function(obj){with(obj)return load_more()}}).register()}),Scoped.define("module:Clickitem",["dynamics:Dynamic"],function(Dynamic,scoped){return Dynamic.extend({scoped:scoped},{template:'\n<button\n        ba-class="{{{\n            \'icon\' : model.background || model.icon,\n            \'noicon\' : !model.icon && !model.background\n        }}}"\n        ba-tap="{{click()}}">\n    <icon\n            class="{{model.icon}}"\n            style="background : {{model.background}}; color : {{model.icon_color}}"\n    ></icon>\n    <value>\n        {{model.value || model.name}}\n    </value>\n</button>\n\n',attrs:{model:{icon:"",value:"Clickitem - Value",eventid:"noid"}},functions:{click:function(){this.trigger("click",this.get("model")),this.trigger("event",this.cid())}}}).registerFunctions({"{\n            'icon' : model.background || model.icon,\n            'noicon' : !model.icon && !model.background\n        }":function(obj){with(obj)return{icon:model.background||model.icon,noicon:!model.icon&&!model.background}},"click()":function(obj){with(obj)return click()},"model.icon":function(obj){with(obj)return model.icon},"model.background":function(obj){with(obj)return model.background},"model.icon_color":function(obj){with(obj)return model.icon_color},"model.value || model.name":function(obj){with(obj)return model.value||model.name}}).register()}),Scoped.define("module:Eventitem",["dynamics:Dynamic"],function(Dynamic,scoped){return Dynamic.extend({scoped:scoped},{template:"\n<button\n        class=\"{{model['class']}}\">\n    {{model.value}} - {{counter}}\n</button>",attrs:{counter:0,model:{value:"Eventitem - Clicked "}},functions:{click:function(){this.trigger("event",this.cid())}},create:function(){this.on("event",function(e){this.set("counter",this.get("counter")+1)},this)}}).registerFunctions({"model['class']":function(obj){with(obj)return model["class"]},"model.value":function(obj){with(obj)return model.value},counter:function(obj){with(obj)return counter}}).register()}),Scoped.define("module:Selectableitem",["dynamics:Dynamic","base:Objs"],["dynamics:Partials.ClassPartial"],function(Dynamic,Objs,scoped){Dynamic.extend({scoped:scoped},{template:'\n<selectableitem\n        ba-class="{{{selected : selected.cid == this.cid()}}}"\n        ba-click="{{select()}}">\n    {{model.value}}\n</selectableitem>',bindings:{selected:"<+[tagname='ba-list']:selected_item"},scopes:{parent_list:"<+[tagname='ba-list']"},attrs:{model:{value:"Selectableitem - Value"}},create:function(){var e=this.scopes.parent_list;e?e.get("listcollection")&&(this.scopes.parent_list.get("selected_item")||this.call("select")):console.warn("There is no parent list the selector can attach to, this currently only works with ba-list")},functions:{select:function(){this.scopes.parent_list.set("selected_item",Objs.extend({cid:this.cid()},this.get("model").data()))}}}).registerFunctions({"{selected : selected.cid == this.cid()}":function(obj){with(obj)return{selected:selected.cid==this.cid()}},"select()":function(obj){with(obj)return select()},"model.value":function(obj){with(obj)return model.value}}).register()}),Scoped.define("module:List",["dynamics:Dynamic","browser:Dom","base:Async","base:Promise","base:Types"],["dynamics:Partials.EventForwardPartial","dynamics:Partials.RepeatPartial","dynamics:Partials.IfPartial","dynamics:Partials.DataPartial","dynamics:Partials.FunctionsPartial","dynamics:Partials.CachePartial","module:Loading","module:Loadmore","ui:Interactions.Infinitescroll","ui:Interactions.Droplist"],function(Dynamic,Dom,Async,Promise,Types,scoped){return Dynamic.extend({scoped:scoped},{template:'<ba-loadmore ba-if="{{!!loadmore && loadmorestyle !== \'infinite\' && loadmorebackwards}}"\n             ba-show="{{!loading && !!loadmore && loadmorestyle !== \'infinite\' && loadmorebackwards}}" ba-event:loadmore="moreitemsbackwards">\n</ba-loadmore>\n<ba-loading ba-show="{{loadmorebackwards && loading}}">\n</ba-loading>\n\n<list ba-repeat="{{view.repeatoptions :: collectionitem :: (model.listcollection||listcollection)}}"\n      ba-interaction:scroll="{{infinite_scroll_options}}"\n      ba-interaction:droplist="{{drop_list_options}}"\n>\n\n    \n\n    <ba-{{getview(collectionitem)}}\n        ba-cache\n        ba-experimental="{{!!collectionitem.experimental}}"\n        data-id="{{collectionitem.cid()}}"\n        ba-data:id="{{collectionitem.cid()}}"\n        ba-data:pid="{{collectionitem.pid()}}"\n        ba-selection="{{=selection}}"\n        ba-droplist="{{droplist}}"\n        ba-functions="{{collectionitem.callbacks}}"\n        ba-itemcontext="{{itemContext(collectionitem)}}"\n        ba-isselected="{{isEqual(collectionitem, selected)}}"\n        ba-event-forward:item="{{[collectionitem]}}"\n        ba-view="{{collectionitem.view||view.listinner||{}}}"\n        ba-model="{{collectionitem}}"\n    ></ba-{{getview(collectionitem)}}>\n\n</list>\n\n<div class="moveplaceholder" data-id="floater" style="display:none">\n    <div class="inner">Move Here</div>\n</div>\n\n<ba-loadmore\n        ba-if="{{!!loadmore && loadmorestyle !== \'infinite\' && loadmoreforwards}}"\n        ba-show="{{!loading && collection_count > 0 && !!loadmore && loadmorestyle !== \'infinite\' && loadmoreforwards}}"\n        ba-event:loadmore="moreitems"\n></ba-loadmore>\n\n<ba-loading ba-show="{{loading}}">\n</ba-loading>\n\n<div\n        ba-if="{{emptymessage && !loading && collection_count === 0}}"\n        class="emptymessage">\n    {{emptymessage}}\n</div>\n\n<div\n        ba-if="{{emptymessage && !loading && collection_count === 0 && refreshable}}"\n        class="refresh">\n    <button ba-click="refreshable.refresh()">Refresh</button>\n</div>',attrs:function(){return{listitem:"clickitem",model:!1,selected:null,selection:null,scrolltolast:null,scrolltofirst:null,autoscroll:!1,scrolling_disabled:!1,stickybottom:!1,emptymessage:!1,refreshable:null,droplist:!1,view:{},infinite_scroll_options:{disabled:!0,parent_elem:!0,enable_scroll_modifier:"",type:"infinitescroll",append:function(e,t){this.execute("moreitems").success(function(){t(1,!0)})}},drop_list_options:{disabled:!0,type:"droplist",floater:"[data-id='floater']",droppable:function(e){return!this.get("droplistcheck")||this.get("droplistcheck").call(this,e.data)},bounding_box:function(e){var t=e.bottom-e.top+1,n=Math.floor(.2*t);return e.top+=n,e.bottom-=n,e},events:{dropped:function(e,t){var n=t.source.data,o=this.getCollection().getByIndex(t.index-1),i=this.getCollection().getByIndex(t.index);this.trigger("droplist-dropped",n,o,i)}}},loadmorebackwards:!1,loadmoreforwards:!0,loadmorereverse:!1,loadmoresteps:undefined,"async-timeout":!1,loadmorestyle:"button"}},types:{scrolltolast:"boolean",scrolltofirst:"boolean",autoscroll:"boolean",stickybottom:"boolean","async-timeout":"int",droplist:"boolean",loadmorebackwards:"boolean",loadmoreforwards:"boolean",loadmorereverse:"boolean"},create:function(){this.set("collection_count",0),this.get("loadmore")&&"infinite"===this.get("loadmorestyle")&&this.setProp("infinite_scroll_options.disabled",!1),this.get("droplist")&&this.setProp("drop_list_options.disabled",!1),this.get("listcollection")&&this._setupListCollection(!0)},events:{"change:listcollection":function(){this._setupListCollection(!1)}},_setupListCollection:function(){var e="replaced-objects";this.get("autoscroll")&&(e+=" add"),Async.eventually(function(){this.destroyed()||this.getCollection()&&this.getCollection().on&&(this.set("collection_count",this.getCollection().count()),this.listenOn(this.getCollection(),"replaced-objects add remove collection-updating collection-updated",function(){this.set("collection_count",this.getCollection().count())}),this.get("scrolltolast")&&(this.listenOn(this.getCollection(),e,function(){this.get("scrolling_disabled")||this.execute("scrollToLast")},{eventually:!0,off_on_destroyed:!0}),this.execute("scrollToLast")),this.get("scrolltofirst")&&(this.listenOn(this.getCollection(),e,function(){this.get("scrolling_disabled")||this.execute("scrollToFirst")},{eventually:!0,off_on_destroyed:!0}),this.execute("scrollToFirst")),this.listenOn(this.getCollection(),"collection-updating",function(){this.set("loading",!0)}),this.listenOn(this.getCollection(),"collection-updated",function(){this.set("loading",!1)}),0===this.getCollection().count()&&this.get("async-timeout")&&(this.set("loading",!0),Async.eventually(function(){this.set("loading",!1)},this,this.get("async-timeout"))))},this)},_afterActivate:function(){this.get("stickybottom")&&Dom.containerStickyBottom(this.activeElement())},getCollection:function(){var e=this.get("listcollection");return e&&e.value?e.value():e},getLoadMore:function(){var e=this.get("loadmore");return e&&e.value?e.value():e},functions:{moreitems:function(){var t=this.getCollection().count(),e=Promise.create();return this.set("loading",!0),Async.eventually(function(){var e=this.get("loadmorereverse")?this.getLoadMore().increase_backwards(this.get("loadmoresteps")):this.getLoadMore().increase_forwards(this.get("loadmoresteps"));e.callback(function(){e.asyncSuccess(!0),Async.eventually(function(){this.set("loading",!1),this.getCollection().count()===t&&this.set("loadmoreforwards",!1)},this)},this)},this),e},moreitemsbackwards:function(){var t=this.getCollection().count(),e=Promise.create();return this.set("loading",!0),Async.eventually(function(){var e=this.get("loadmorereverse")?this.getLoadMore().increase_forwards(this.get("loadmoresteps")):this.getLoadMore().increase_backwards(this.get("loadmoresteps"));e.callback(function(){e.asyncSuccess(!0),Async.eventually(function(){this.set("loading",!1),this.getCollection().count()===t&&this.set("loadmorebackwards",!1)},this)},this)},this),e},getview:function(e){return this.getProp("view.listitem")||e.get("listitem")||(this.get("listitemfunc")?this.get("listitemfunc")(e):this.get("listitem"))},elementByItem:function(e){return e?this.activeElement().querySelector("[data-id='"+e.cid()+"']"):null},scrollTo:function(e){if(e){var t=this.execute("elementByItem",e);if(t){var n=this.activeElement();n.scrollTop=t.offsetTop-n.offsetTop}}},scrollToLast:function(){this.execute("scrollTo",this.getCollection().last())},scrollToFirst:function(){this.execute("scrollTo",this.getCollection().first())},isEqual:function(e,t){if(t){if(t===e)return!0;if(t.pid()===e.pid())return!0}return!1},itemContext:function(e){return this.get("itemcontext")&&Types.is_function(this.get("itemcontext"))?this.get("itemcontext")(e):{}}}}).registerFunctions({"!!loadmore && loadmorestyle !== 'infinite' && loadmorebackwards":function(obj){with(obj)return!!loadmore&&"infinite"!==loadmorestyle&&loadmorebackwards},"!loading && !!loadmore && loadmorestyle !== 'infinite' && loadmorebackwards":function(obj){with(obj)return!loading&&!!loadmore&&"infinite"!==loadmorestyle&&loadmorebackwards},"loadmorebackwards && loading":function(obj){with(obj)return loadmorebackwards&&loading},"(model.listcollection||listcollection)":function(obj){with(obj)return model.listcollection||listcollection},infinite_scroll_options:function(obj){with(obj)return infinite_scroll_options},drop_list_options:function(obj){with(obj)return drop_list_options},"getview(collectionitem)":function(obj){with(obj)return getview(collectionitem)},"!!collectionitem.experimental":function(obj){with(obj)return!!collectionitem.experimental},"collectionitem.cid()":function(obj){with(obj)return collectionitem.cid()},"collectionitem.pid()":function(obj){with(obj)return collectionitem.pid()},selection:function(obj){with(obj)return selection},droplist:function(obj){with(obj)return droplist},"collectionitem.callbacks":function(obj){with(obj)return collectionitem.callbacks},"itemContext(collectionitem)":function(obj){with(obj)return itemContext(collectionitem)},"isEqual(collectionitem, selected)":function(obj){with(obj)return isEqual(collectionitem,selected)},"[collectionitem]":function(obj){with(obj)return[collectionitem]},"collectionitem.view||view.listinner||{}":function(obj){with(obj)return collectionitem.view||view.listinner||{}},collectionitem:function(obj){with(obj)return collectionitem},"!!loadmore && loadmorestyle !== 'infinite' && loadmoreforwards":function(obj){with(obj)return!!loadmore&&"infinite"!==loadmorestyle&&loadmoreforwards},"!loading && collection_count > 0 && !!loadmore && loadmorestyle !== 'infinite' && loadmoreforwards":function(obj){with(obj)return!loading&&0<collection_count&&!!loadmore&&"infinite"!==loadmorestyle&&loadmoreforwards},loading:function(obj){with(obj)return loading},"emptymessage && !loading && collection_count === 0":function(obj){with(obj)return emptymessage&&!loading&&0===collection_count},emptymessage:function(obj){with(obj)return emptymessage},"emptymessage && !loading && collection_count === 0 && refreshable":function(obj){with(obj)return emptymessage&&!loading&&0===collection_count&&refreshable}}).register()}),Scoped.define("module:Positionlist",["dynamics:Dynamic","browser:Dom","base:Async","base:Promise","base:Types"],["dynamics:Partials.EventForwardPartial","dynamics:Partials.RepeatPartial","dynamics:Partials.IfPartial","dynamics:Partials.DataPartial","dynamics:Partials.FunctionsPartial","dynamics:Partials.CachePartial","module:Loading","module:Loadmore","ui:Interactions.Infinitescroll","ui:Interactions.Droplist"],function(Dynamic,Dom,Async,Promise,Types,scoped){return Dynamic.extend({scoped:scoped},{template:'<ba-loadmore ba-if="{{!!loadmore && loadmorestyle !== \'infinite\' && loadmorebackwards}}"\n             ba-show="{{!loading && !!loadmore && loadmorestyle !== \'infinite\' && loadmorebackwards}}" ba-event:loadmore="moreitemsbackwards">\n</ba-loadmore>\n<ba-loading ba-show="{{loadmorebackwards && loading}}">\n</ba-loading>\n\n<list ba-repeat="{{view.repeatoptions :: collectionitem :: (model.listcollection||listcollection)}}"\n      ba-interaction:scroll="{{infinite_scroll_options}}"\n      ba-interaction:droplist="{{drop_list_options}}"\n>\n\n    \n\n    <ba-{{getview(collectionitem)}}\n        ba-cache\n        ba-experimental="{{!!collectionitem.experimental}}"\n        data-id="{{collectionitem.cid()}}"\n        ba-data:id="{{collectionitem.cid()}}"\n        ba-data:pid="{{collectionitem.pid()}}"\n        ba-selection="{{=selection}}"\n        ba-droplist="{{droplist}}"\n        ba-functions="{{collectionitem.callbacks}}"\n        ba-itemcontext="{{itemContext(collectionitem)}}"\n        ba-isselected="{{isEqual(collectionitem, selected)}}"\n        ba-event-forward:item="{{[collectionitem]}}"\n        ba-view="{{collectionitem.view||view.listinner||{}}}"\n        ba-model="{{collectionitem}}"\n\n\n\n    ></ba-{{getview(collectionitem)}}>\n\n</list>\n\n<div class="moveplaceholder" data-id="floater" style="display:none">\n    <div class="inner">Move Here</div>\n</div>\n\n<ba-loadmore\n        ba-if="{{!!loadmore && loadmorestyle !== \'infinite\' && loadmoreforwards}}"\n        ba-show="{{!loading && collection_count > 0 && !!loadmore && loadmorestyle !== \'infinite\' && loadmoreforwards}}"\n        ba-event:loadmore="moreitems"\n></ba-loadmore>\n\n<ba-loading ba-show="{{loading}}">\n</ba-loading>\n\n<div\n        ba-if="{{emptymessage && !loading && collection_count === 0}}"\n        class="emptymessage">\n    {{emptymessage}}\n</div>\n\n<div\n        ba-if="{{emptymessage && !loading && collection_count === 0 && refreshable}}"\n        class="refresh">\n    <button ba-click="refreshable.refresh()">Refresh</button>\n</div>',attrs:function(){return{listitem:"clickitem",model:!1,selected:null,selection:null,scrolltolast:null,scrolltofirst:null,autoscroll:!1,scrolling_disabled:!1,stickybottom:!1,emptymessage:!1,refreshable:null,droplist:!1,view:{},infinite_scroll_options:{disabled:!0,parent_elem:!0,enable_scroll_modifier:"",type:"infinitescroll",append:function(e,t){this.execute("moreitems").success(function(){t(1,!0)})}},drop_list_options:{disabled:!0,type:"droplist",floater:"[data-id='floater']",droppable:function(e){return!this.get("droplistcheck")||this.get("droplistcheck").call(this,e.data)},bounding_box:function(e){var t=e.bottom-e.top+1,n=Math.floor(.2*t);return e.top+=n,e.bottom-=n,e},events:{dropped:function(e,t){var n=t.source.data,o=this.getCollection().getByIndex(t.index-1),i=this.getCollection().getByIndex(t.index);this.trigger("droplist-dropped",n,o,i)}}},loadmorebackwards:!1,loadmoreforwards:!0,loadmorereverse:!1,loadmoresteps:undefined,"async-timeout":!1,loadmorestyle:"button"}},types:{scrolltolast:"boolean",scrolltofirst:"boolean",autoscroll:"boolean",stickybottom:"boolean","async-timeout":"int",droplist:"boolean",loadmorebackwards:"boolean",loadmoreforwards:"boolean",loadmorereverse:"boolean"},create:function(){this.set("collection_count",0),this.get("loadmore")&&"infinite"===this.get("loadmorestyle")&&this.setProp("infinite_scroll_options.disabled",!1),this.get("droplist")&&this.setProp("drop_list_options.disabled",!1),this.get("listcollection")&&this._setupListCollection(!0)},events:{"change:listcollection":function(){this._setupListCollection(!1)}},_setupListCollection:function(){var e="replaced-objects";this.get("autoscroll")&&(e+=" add"),Async.eventually(function(){this.destroyed()||this.getCollection()&&this.getCollection().on&&(this.set("collection_count",this.getCollection().count()),this.listenOn(this.getCollection(),"replaced-objects add remove collection-updating collection-updated",function(){this.set("collection_count",this.getCollection().count())}),this.get("scrolltolast")&&(this.listenOn(this.getCollection(),e,function(){this.get("scrolling_disabled")||this.execute("scrollToLast")},{eventually:!0,off_on_destroyed:!0}),this.execute("scrollToLast")),this.get("scrolltofirst")&&(this.listenOn(this.getCollection(),e,function(){this.get("scrolling_disabled")||this.execute("scrollToFirst")},{eventually:!0,off_on_destroyed:!0}),this.execute("scrollToFirst")),this.listenOn(this.getCollection(),"collection-updating",function(){this.set("loading",!0)}),this.listenOn(this.getCollection(),"collection-updated",function(){this.set("loading",!1)}),0===this.getCollection().count()&&this.get("async-timeout")&&(this.set("loading",!0),Async.eventually(function(){this.set("loading",!1)},this,this.get("async-timeout"))))},this)},_afterActivate:function(){this.get("stickybottom")&&Dom.containerStickyBottom(this.activeElement())},getCollection:function(){var e=this.get("listcollection");return e&&e.value?e.value():e},getLoadMore:function(){var e=this.get("loadmore");return e&&e.value?e.value():e},functions:{getview:function(e){return this.getProp("view.listitem")||e.get("listitem")||(this.get("listitemfunc")?this.get("listitemfunc")(e):this.get("listitem"))},elementByItem:function(e){return e?this.activeElement().querySelector("[data-id='"+e.cid()+"']"):null},isEqual:function(e,t){if(t){if(t===e)return!0;if(t.pid()===e.pid())return!0}return!1},itemContext:function(e){return this.get("itemcontext")&&Types.is_function(this.get("itemcontext"))?this.get("itemcontext")(e):{}}}}).registerFunctions({"!!loadmore && loadmorestyle !== 'infinite' && loadmorebackwards":function(obj){with(obj)return!!loadmore&&"infinite"!==loadmorestyle&&loadmorebackwards},"!loading && !!loadmore && loadmorestyle !== 'infinite' && loadmorebackwards":function(obj){with(obj)return!loading&&!!loadmore&&"infinite"!==loadmorestyle&&loadmorebackwards},"loadmorebackwards && loading":function(obj){with(obj)return loadmorebackwards&&loading},"(model.listcollection||listcollection)":function(obj){with(obj)return model.listcollection||listcollection},infinite_scroll_options:function(obj){with(obj)return infinite_scroll_options},drop_list_options:function(obj){with(obj)return drop_list_options},"getview(collectionitem)":function(obj){with(obj)return getview(collectionitem)},"!!collectionitem.experimental":function(obj){with(obj)return!!collectionitem.experimental},"collectionitem.cid()":function(obj){with(obj)return collectionitem.cid()},"collectionitem.pid()":function(obj){with(obj)return collectionitem.pid()},selection:function(obj){with(obj)return selection},droplist:function(obj){with(obj)return droplist},"collectionitem.callbacks":function(obj){with(obj)return collectionitem.callbacks},"itemContext(collectionitem)":function(obj){with(obj)return itemContext(collectionitem)},"isEqual(collectionitem, selected)":function(obj){with(obj)return isEqual(collectionitem,selected)},"[collectionitem]":function(obj){with(obj)return[collectionitem]},"collectionitem.view||view.listinner||{}":function(obj){with(obj)return collectionitem.view||view.listinner||{}},collectionitem:function(obj){with(obj)return collectionitem},"!!loadmore && loadmorestyle !== 'infinite' && loadmoreforwards":function(obj){with(obj)return!!loadmore&&"infinite"!==loadmorestyle&&loadmoreforwards},"!loading && collection_count > 0 && !!loadmore && loadmorestyle !== 'infinite' && loadmoreforwards":function(obj){with(obj)return!loading&&0<collection_count&&!!loadmore&&"infinite"!==loadmorestyle&&loadmoreforwards},loading:function(obj){with(obj)return loading},"emptymessage && !loading && collection_count === 0":function(obj){with(obj)return emptymessage&&!loading&&0===collection_count},emptymessage:function(obj){with(obj)return emptymessage},"emptymessage && !loading && collection_count === 0 && refreshable":function(obj){with(obj)return emptymessage&&!loading&&0===collection_count&&refreshable}}).register()}),Scoped.define("module:Searchlist",["dynamics:Dynamic"],["dynamics:Partials.EventForwardPartial","module:List","module:Search","module:Loading","dynamics:Partials.NoScopePartial"],function(Dynamic,scoped){return Dynamic.extend({scoped:scoped},{template:'\n<ba-search\n        ba-searching="{{=searchingindication}}"\n        ba-value="{{=searchvalue}}"\n        ba-if="{{view.showsearch}}"\n        ba-view="{{view.searchview}}"\n        ba-event-forward\n></ba-search>\n\n<ba-list ba-noscope ba-event-forward></ba-list>\n',attrs:{searchvalue:"",searchingindication:!1,searching:!1,view:{showsearch:!0}},extendables:["view"],events:{"change:searchvalue":function(){this.set("searchingindication",!0)},"change:searching":function(){this.set("searchingindication",this.get("searching"))}},create:function(){this.on("change:searchvalue",function(){this.set("searching",!0)},this,{min_delay:750})}}).registerFunctions({searchingindication:function(obj){with(obj)return searchingindication},searchvalue:function(obj){with(obj)return searchvalue},"view.showsearch":function(obj){with(obj)return view.showsearch},"view.searchview":function(obj){with(obj)return view.searchview}}).register()}),Scoped.define("module:Titledlist",["dynamics:Dynamic"],["dynamics:Partials.EventForwardPartial","module:List","dynamics:Partials.NoScopePartial","dynamics:Partials.ClickPartial"],function(Dynamic,scoped){return Dynamic.extend({scoped:scoped},{template:'\n<ba-{{view.titleitem}}\n    ba-click="{{click_title()}}"\n    ba-event-forward:title="{{[]}}"\n    ba-model="{{model.title_model}}"\n    ba-listcount="{{listcount}}"\n>{{model.title_model.value}}</ba-{{view.titleitem}}>\n\n<ba-list\n        ba-noscope\n        ba-event-forward\n        ba-show="{{!model.collapsed}}"\n></ba-list>\n\n\n\n        \n        \n        \n\n',attrs:{model:{title_model:{value:"Titledlist - Title",collapsed:!0}},selectable:!0,collapsed:!1,collapsible:!0,listitem:"selectableitem",titleitem:"title",listcount:null},create:function(){this.listenOn(this.get("model").listcollection,"add",function(){this._set_count()}),this.listenOn(this.get("model").listcollection,"remove",function(){this._set_count()})},functions:{togglelist:function(){this.get("collapsible")&&this.setProp("model.collapsed",!this.getProp("model.collapsed"))},additem:function(e){e=e||{value:"Titledlist - New Item"};var t=this.get("listcollection").add(e);return this.get("listcollection").getByIndex(t).cid()},click_title:function(){this.call("togglelist")}},_set_count:function(){var e=this.get("model").listcollection.count();this.set("listcount",e)}}).registerFunctions({"view.titleitem":function(obj){with(obj)return view.titleitem},"click_title()":function(obj){with(obj)return click_title()},"[]":function(obj){with(obj)return[]},"model.title_model":function(obj){with(obj)return model.title_model},listcount:function(obj){with(obj)return listcount},"model.title_model.value":function(obj){with(obj)return model.title_model.value},"!model.collapsed":function(obj){with(obj)return!model.collapsed}}).register()}),Scoped.define("module:Addtitle",["dynamics:Dynamic"],function(Dynamic,scoped){return Dynamic.extend({scoped:scoped},{template:'\n<addtitle>\n    <div ba-click="{{clicktitle()}}">\n        <span>{{model.value}}</span>\n        <span ba-if="{{listcount}}"> - ({{listcount}})</span>\n    </div>\n    <button ba-click="{{addbutton()}}">\n        <span class="icon-plus"></span>\n    </button>\n</addtitle>',attrs:{listcount:null,model:{value:"Title"}},functions:{clicktitle:function(){this.parent().call("togglelist")},addbutton:function(){this.trigger("add-button")}}}).registerFunctions({"clicktitle()":function(obj){with(obj)return clicktitle()},"model.value":function(obj){with(obj)return model.value},listcount:function(obj){with(obj)return listcount},"addbutton()":function(obj){with(obj)return addbutton()}}).register()})}).call(Scoped);